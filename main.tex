\documentclass[12pt,letterpaper]{article}
\usepackage{amitstyle}
\input{macros.tex}



\begin{document}

\title{Title TBD}
\author{Hideto Asashiba\thanks{Supported by JSPS Grant-in-Aid for Scientific Research (C) 18K03207; 
JSPS Grant-in-Aid for Transformative Research Areas (A) (22A201); 
Osaka Central Advanced Mathematical Institute (MEXT Promotion of Distinctive Joint Research Center Program JPMXP0723833165).}
\and Amit K. Patel}


\maketitle

\begin{abstract}

\end{abstract}

\noindent\textbf{2020 Mathematics Subject Classification.} 16G20, 16G70, 55N31, 62R40.

\medskip

\noindent\textbf{Affiliations.}
Department of Mathematics, Faculty of Science, Shizuoka University,
836 Ohya, Suruga-ku, Shizuoka, 422-8529, Japan; Institute for Advanced Study, KUIAS, Kyoto University,
Yoshida Ushinomiya-cho, Sakyo-ku, Kyoto 606-8501, Japan; and
Osaka Central Advanced Mathematical Institute, 3-3-138 Sugimoto, Sumiyoshi-ku, Osaka, 558-8585, Japan. \par
Department of Mathematics, Colorado State University, Fort Collins, CO 80523, USA.

\medskip

\noindent\textbf{Emails.}
\href{mailto:asashiba.hideto@shizuoka.ac.jp}{asashiba.hideto@shizuoka.ac.jp}
\quad|\quad
\href{mailto:Amit.Patel@colostate.edu}{Amit.Patel@colostate.edu}


\tableofcontents

\section{Introduction}

%%%%%%%%%%%%%%

\subsection{Purposes}

%%%%%%%%%%%%%%%%%%%

\subsection{Our contributions}


\subsection{Organization}


\section{Preliminaries}
\label{sec:prelim}

We start with some categorical facts that will be used throughout.

\begin{lemma}
\label{lem:pres-proj}
Let $L:\calC\to\calD$ be a functor between abelian categories.
If $L$ has an exact right adjoint $R:\calD\to\calC$,
then $L$ sends projectives to projectives.
\end{lemma}

\begin{proof}
Let $A$ be projective in $\calC$. Then the functor $\calC(A,-)$ is exact, hence so is
\[
\calC(A,-)\circ R=\calC(A,R(-))\cong \calD(L(A),-).
\]
Thus $L(A)$ is projective.
\end{proof}

Let $\frkU$ be a universe. An element of $\frkU$ is called a $\frkU$-\emph{small} set. A category $\calC$ is $\frkU$-\emph{small} if its object set is $\frkU$-small and, for any objects $X,Y$, each hom-set $\calC(X,Y)$ is $\frkU$-small. We denote by $\Cat^\frkU$ the $2$-category whose objects are the $\frkU$-small categories, whose $1$-morphisms are functors, and whose $2$-morphisms are natural transformations.

\begin{proposition}
\label{prp:Yoneda-2-functor}
If $\calC$ is an object of $\Cat^\frkU$, then
\[
\Cat^\frkU(\mbox{-},\calC):(\Cat^\frkU)^{\mathrm{op}}\longrightarrow\Cat^\frkU
\]
is a $2$-functor.
\end{proposition}

\begin{proof}
See Proposition~4.5.4 in \cite{JY}.
\end{proof}

\begin{remark}
\label{rmk:contravariant-adj}
In particular, the $2$-functor $\Cat^\frkU(\mbox{-},\calC)$ sends an adjoint system $(f,g,\eta,\varepsilon)$ to the adjoint system $(g^{*},f^{*},\eta^{*},\varepsilon^{*})$ in a contravariant manner. Concretely, if $f\dashv g$ between categories $\calA$ and $\calB$, then precomposition yields $g^{*}\dashv f^{*}$ between the functor categories $\Cat^\frkU(\calB,\calC)$ and $\Cat^\frkU(\calA,\calC)$. We use this repeatedly with $\calC=\vect$ below.
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Poset Modules}
\label{ssec:poset-mod}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Throughout, $\Bbbk$ is a field, and $\bfP=(\bfP,\le)$ is a poset. We regard $\bfP$ as a small (thin) category: there is a unique morphism $x\to y$ exactly when $x\le y$. This lets us identify $\bfP$-modules with functors $\bfP\to\vect$ and, equivalently, with left modules over the $\Bbbk$-linearization $\Bbbk\bfP$ (same objects, order relations as basis arrows, composition by transitivity). We assume $\bfP$ is finite except in Sect.\ \ref{sec:intlv-dist}.

Let $\vect$ denote the category of finite-dimensional $\Bbbk$-vector spaces, and write $\vect^\bfP=\Fun(\bfP,\vect)$ for the category of $\bfP$-modules. If $\bfP$ is finite, then $\vect^\bfP$ is a $\Bbbk$-linear, abelian, Krull–Schmidt category, and for each $M,N\in\vect^\bfP$ the $\Bbbk$-space $\vect^\bfP(M,N)$ is finite dimensional.

We write $\prj\bfP$ for the full subcategory of projective objects in $\vect^\bfP$.
For $x\in\bfP$, the \emph{representable} at $x$ is the functor
\[
\bfP(x,-)\in\vect^\bfP.
\]
It sends $y\in\bfP$ to $\bfP(x,-)(y)=\Bbbk$ if $x\le y$ and to $0$ otherwise; for a relation $y\le z$ it acts by the identity on $\Bbbk$ whenever $x\le y$ (and by $0$ otherwise). By the Yoneda lemma there is a natural isomorphism
\[
\Hom_{\vect^\bfP}(\bfP(x,-),M)\cong M(x)\qquad(M\in\vect^\bfP),
\]
showing that each $\bfP(x,-)$ is projective.

\begin{lemma}
\label{lem:ind-proj}
The family $\{\bfP(x,-)\mid x\in\bfP\}$ is a complete set of representatives of the isomorphism classes of indecomposable projective $\bfP$-modules. Hence each $M\in\prj \bfP$ decomposes uniquely as
\[
M \cong \bigoplus_{x\in\bfP} \bfP(x,-)^{\,a_x}
\]
for a uniquely determined family $(a_x)_{x\in\bfP}\in\bbN^\bfP$.
\end{lemma}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Monotone Functions and Kan Extensions}
\label{ssec:mont-funct}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

A map $f:\bfP\to\bfQ$ of posets is \emph{monotone} if $x\le y$ in $\bfP$ implies $f(x)\le f(y)$ in $\bfQ$. Viewing posets as thin categories, a functor $\bfP\to\bfQ$ is precisely a monotone map. Thus a monotone map $f:\bfP\to\bfQ$ induces the restriction (precomposition) functor
\[
f^{*}:\vect^\bfQ\to\vect^\bfP,\qquad f^{*}N = N\circ f .
\]

\begin{proposition}
\label{prop:Kan-posets}
For any monotone $f:\bfP\to\bfQ$, the functor $f^{*}$ is exact. Moreover, the left and right Kan extensions along $f$ exist and we denote them by
\[
f_{!}:=\Lan_{f}\qquad\text{and}\qquad f_{*}:=\Ran_{f}.
\]
By the defining property of conextensions there are natural adjunctions
\[
f_{!}\dashv f^{*}\dashv f_{*}.
\]
In particular, $f_{!}$ is right exact, $f_{*}$ is left exact, and $f^{*}$ is exact.
\end{proposition}

\[
\begin{tikzcd}[row sep=3em, column sep=6em]
\Nname{E}\vect^\bfP & \Nname{C}\vect^\bfQ
\arrow[from={E}, to={C}, "f_{!}", ""'{name=Fu}, bend left]
\arrow[from={C}, to={E},"f^{*}"{description, pos=.5, name=Fc}]
\arrow[from={E}, to={C}, "f_{*}"', ""'{name=Fd}, bend right]
\arrow[from={Fu}, to={Fc}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\arrow[from={Fc}, to={Fd}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\end{tikzcd}
\]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Galois Connections}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We recall that Galois connections are adjunctions between posets and underlie the identifications among $f_{!}, f^{*}, f_{*}$ used later.

\begin{definition}
A \emph{Galois connection} between posets $\bfP,\bfQ$ consists of monotone maps $f:\bfP\to\bfQ$ and $g:\bfQ\to\bfP$ such that
\[
f(x)\le q \iff x\le g(q)\qquad(x\in \bfP,\ q\in \bfQ).
\]
Equivalently, viewing $\bfP$ and $\bfQ$ as thin categories, this means $f\dashv g$ as functors. We write $f:\bfP\rightleftarrows \bfQ:g$, with $f$ left adjoint and $g$ right adjoint.
\end{definition}

\begin{corollary}
If $f:\bfP\rightleftarrows \bfQ:g$ is a Galois connection, then $g^{*}\dashv f^{*}$.
\[
\begin{tikzcd}[row sep=3em]
\Nname{E}\vect^\bfP & \Nname{C}\vect^\bfQ 
\arrow[from={E}, to={C}, "g^{*}", ""'{name=Fd}, bend left]
\arrow[from={C}, to={E}, "f^{*}"{name=Gu}, bend left]
\arrow[from={Fd}, to={Gu}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\end{tikzcd}.
\]
\end{corollary}

\begin{proof}
Immediate from the contravariant $2$-functoriality of $\Cat^\frkU(\mbox{-},\vect)$ (e.g.\ Proposition~4.5.4 in \cite{JY}).
\end{proof}

\begin{corollary}
\label{cor:3_adj}
In the same setting, there are natural isomorphisms $g^{*}\cong f_{!}$ and $f^{*}\cong g_{*}$. In particular, the adjoint pairs
\[
g^{*}\dashv f^{*},\qquad f_{!}\dashv f^{*},\qquad g^{*}\dashv g_{*}
\]
are compatible via these isomorphisms.
\[
\begin{tikzcd}[row sep=50pt, column sep = 70pt]
\Nname{E}\vect^\bfP & \Nname{C}\vect^\bfQ 
\arrow[from={E}, to={C}, "g^{*} \cong f_{!}"{description, pos=.5, name=Fu}, ""'{name=Fd}, bend left=15pt]
\arrow[from={C}, to={E}, "f^{*}\cong g_{*}"{description, pos=.5, name=Gd}, ""'{name=Gu}, bend left=15pt]
\arrow[from={C}, to={E}, "g_{!}"', ""{name=gd}, bend right=80pt]
\arrow[from={E}, to={C}, "f_{*}"', ""{name=fu}, bend right=80pt]
\arrow[from={Fd}, to={Gu}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\arrow[from={gd}, to={Fu}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\arrow[from={Gd}, to={fu}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\end{tikzcd}.
\]
\end{corollary}

\begin{proof}
By uniqueness of adjoints in a $2$-category: $g^{*}$ and $f_{!}$ are both left adjoint to $f^{*}$, hence canonically isomorphic; dually for $f^{*}$ and $g_{*}$.
\end{proof}

\begin{corollary}
\label{cor:g-ast-ex}
If $f:\bfP\rightleftarrows \bfQ:g$ is a Galois connection, then $g_{*}:\vect^\bfQ\to\vect^\bfP$ is exact.
\end{corollary}

\begin{proof}
Using Corollary~\ref{cor:3_adj}, $g_{*}\cong f^{*}$, and $f^{*}$ is exact by Proposition~\ref{prop:Kan-posets}.
\end{proof}

Combining Corollary~\ref{cor:g-ast-ex} with Lemma~\ref{lem:pres-proj} yields:

\begin{proposition}\label{prop:pullback_preserves_projectives}
Let $f:\bfP\rightleftarrows \bfQ:g$ be a Galois connection. If $M\in\vect^\bfP$ is projective, then $g^{*}(M)$ is projective in $\vect^\bfQ$.\qed
\end{proposition}

\medskip

The next basic facts will be used tacitly; they are immediate from the adjunction $f\dashv g$ and we omit the proof.

\begin{lemma}\label{lem:galois-connection-basics}
Let $f:\bfP\rightleftarrows \bfQ:g$ be a Galois connection. Then:
\begin{enumerate}
\item The following are equivalent: $f$ is surjective; $g$ is injective; $f\circ g=\id_{\bfQ}$.
\item For $q\in \bfQ$,
\[
g(q)=\max\{\,x\in \bfP\mid f(x)\le q\,\}.
\]
In particular, if $f\circ g=\id_{\bfQ}$, then
\[
g(q)=\max\{\,x\in \bfP\mid f(x)=q\,\}.
\]
\end{enumerate}
\end{lemma}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Galois Transport Distance}
\label{sec:galois-transport}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Fix a finite poset $\bfP$ equipped with a metric $d_{\bfP}$. Motivated by optimal transport, we compare $\bfP$-modules by \emph{transporting} them through a common “apex” poset $\bfQ$ via \emph{Galois insertions}. 

\begin{definition}
\label{def:coupling-insertion}
Let $M,N\in\vect^{\bfP}$. A \emph{Galois coupling} of $(M,N, f \dashv g, h \dashv i, \Gamma)$ consists of a poset $\bfQ$, two Galois insertions
\[
f:\bfQ\rightleftarrows \bfP:g,
\qquad
h:\bfQ\rightleftarrows \bfP:i
\quad\text{with}\quad
f\circ g=\id_{\bfP}=h\circ i,
\]
and a module $\Gamma\in\vect^{\bfQ}$ such that $g^{*}\Gamma \cong M$ and $i^{*}\Gamma \cong N$. Equivalently (Corollary~\ref{cor:3_adj}), $M\cong f_{!}\Gamma$ and $N\cong h_{!}\Gamma$.
\end{definition}

\[
\begin{tikzcd}
& \bfQ \ar[dd,"\Gamma"] \ar[dr, bend left, "h"{name=H}] \ar[dl, bend right, "f"'{name=F}] & \\
\bfP \ar[rd,"M"'] \ar[ru, bend right, "g"'{name=G}] && \bfP \ar[ld,"N"] \ar[lu, bend left, "i"{name=I}] \\
& \vect &
% adjunction markers:
\arrow[phantom, from=F, to=G, "\rotatebox{-45}{$\dashv$}" description]
\arrow[phantom, from=H, to=I, "\rotatebox{-135}{$\dashv$}" description]
\end{tikzcd}
\]

\begin{definition}
\label{def:cost}
The \emph{cost} of a coupling $(\bfQ,f\dashv g,\ h\dashv i,\ \Gamma)$ is
\[
\cost(\Gamma):=\sup_{q\in\bfQ} d_{\bfP}\big(f(q),\,h(q)\big).
\]
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Composition of Couplings}
\label{ssec:composition}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Now consider two Galois couplings $(M,N, f_1 \dashv g_1, h_1 \dashv i_1, \Gamma_1)$ and
$(N,O, f_2 \dashv g_2, h_2 \dashv i_2, \Gamma_2)$ below:

\[
\begin{tikzcd}
    && \bfR \ar[dr, bend left, "\pi_2"{name=piTwo}] \ar[dl, bend right, "\pi_1"'{name=piOne}]  && \\
    & \bfQ_1 \ar[dddr, "\Gamma_1", near end, bend right = 20] \ar[ur, bend right, "\iota_1"'{name=iotaOne}]  
        \ar[dl, bend right, "f_1"'{name=fOne}] \ar[dr, bend left, "h_1"{name=hOne}] & & 
      \bfQ_2 \ar[ddld, "\Gamma_2"', bend left = 20, near end] \ar[ul, bend left, "\iota_2"{name=iotaTwo}] 
        \ar[dl, bend right, "f_2"'{name=fTwo}] \ar[dr, bend left, "h_2"{name=hTwo}] & \\
    \bfP \ar[rrdd, "M"] \ar[ur, bend right, "g_1"'{name=gOne}] && 
    \bfP \ar[dd, "N"]  \ar[ul, bend left, "i_1"{name=iOne}] 
      \ar[ur, bend right, "g_2"'{name=gTwo}] && 
    \bfP \ar[ldld, "O"] \ar[ul, bend left, "i_2"{name=iTwo}] \\
    &  & &  & \\
    && \vect &&
    % adjunction markers:
    \arrow[phantom, from=piOne, to=iotaOne, "\rotatebox{-45}{$\dashv$}" description]
    \arrow[phantom, from=piTwo, to=iotaTwo, "\rotatebox{-135}{$\dashv$}" description]
    \arrow[phantom, from=fOne,  to=gOne,   "\rotatebox{-45}{$\dashv$}" description]
    \arrow[phantom, from=hOne,  to=iOne,   "\rotatebox{-135}{$\dashv$}" description]
    \arrow[phantom, from=fTwo,  to=gTwo,   "\rotatebox{-34}{$\dashv$}" description]
    \arrow[phantom, from=hTwo,  to=iTwo,   "\rotatebox{-135}{$\dashv$}" description]
\end{tikzcd}
\]
\vspace{-0.5em}

Let $\bfR$ be the pullback of $(h_1,f_2)$ in the category of posets (i.e.\ thin categories), with projections $\pi_1:\bfR\to\bfQ_1$ and $\pi_2:\bfR\to\bfQ_2$. Set
\[
\delta:=h_1\circ\pi_1=f_2\circ\pi_2:\bfR\to\bfP.
\]
Since $h_1$ and $f_2$ are the left adjoints in Galois insertions, $f_2\circ g_2=\id_{\bfP}$ and $h_1\circ i_1=\id_{\bfP}$. By the universal property of the pullback there are unique monotone maps
\[
\iota_1:\bfQ_1\to\bfR\quad\text{and}\quad \iota_2:\bfQ_2\to\bfR
\]
with $\pi_1\circ\iota_1=\id_{\bfQ_1}$ and $\pi_2\circ\iota_2=\id_{\bfQ_2}$. In particular, $\pi_j\dashv\iota_j$ is a Galois insertion (Lemma~\ref{lem:galois-connection-basics}(1)–(2)).

\begin{proposition}
\label{prop:compose-couplings}
With notation as above, there exists $\Psi\in\vect^{\bfR}$ and natural isomorphisms
\[
(\iota_1\circ g_1)^{*}\Psi \cong M,
\qquad
(\iota_2\circ i_2)^{*}\Psi \cong O,
\]
so that
\[
\big(M,O,\ f_1\circ\pi_1 \dashv \iota_1\circ g_1,\ \ h_2\circ\pi_2 \dashv \iota_2\circ i_2,\ \ \Psi\big)
\]
is a Galois coupling (the \emph{composite} of the two displayed couplings).
Moreover, this composite is unique up to unique isomorphism of couplings.
\end{proposition}

\begin{proof}
Consider the canonical isomorphisms in $\vect^{\bfP}$ coming from the two couplings,
\[
i_1^{*}\Gamma_1 \ \cong\ N \ \cong\ g_2^{*}\Gamma_2,
\]
and let $\varphi:i_1^{*}\Gamma_1\xrightarrow{\cong} g_2^{*}\Gamma_2$ be their composite. Whisker by $\delta^{*}$ to obtain an isomorphism
\[
\delta^{*}i_1^{*}\Gamma_1 \xrightarrow{\cong} \delta^{*}g_2^{*}\Gamma_2\quad\text{in }\vect^{\bfR}.
\]
The units of the insertions $\id\Rightarrow i_1h_1$ and $\id\Rightarrow g_2f_2$, transported by precomposition, give natural transformations
\[
\sigma_1:\ \pi_1^{*}\Gamma_1 \longrightarrow \delta^{*}i_1^{*}\Gamma_1,
\qquad
\sigma_2:\ \pi_2^{*}\Gamma_2 \longrightarrow \delta^{*}g_2^{*}\Gamma_2.
\]
Define $\Psi$ as the \emph{pullback} in the functor category $\vect^{\bfR}$:
\[
\Psi\ :=\ \mathrm{pullback}\!\left(
\pi_1^{*}\Gamma_1 \xrightarrow{\ \sigma_1\ } \delta^{*}i_1^{*}\Gamma_1
\ \xleftarrow[\ \cong\ ]{\ \delta^{*}\varphi\ }\ 
\delta^{*}g_2^{*}\Gamma_2 \xleftarrow{\ \sigma_2\ } \pi_2^{*}\Gamma_2
\right).
\]
Functor categories into $\vect$ admit limits computed pointwise, so this pullback exists canonically; the universal property immediately yields
$\iota_1^{*}\Psi\cong\Gamma_1$ and $\iota_2^{*}\Psi\cong\Gamma_2$, hence the endpoint isomorphisms. Uniqueness up to unique isomorphism follows from the universal property of the pullback.

By construction we have $\iota_1^{*}\Psi\cong\Gamma_1$ and $\iota_2^{*}\Psi\cong\Gamma_2$. 
Since precomposition is a (contravariant) $2$-functor, it is strictly functorial on composites:
\[
(\iota_1\circ g_1)^{*}=g_1^{*}\circ \iota_1^{*},
\qquad
(\iota_2\circ i_2)^{*}=i_2^{*}\circ \iota_2^{*}.
\]
Therefore
\[
(\iota_1\circ g_1)^{*}\Psi
\;=\; g_1^{*}(\iota_1^{*}\Psi)
\;\cong\; g_1^{*}\Gamma_1
\;\cong\; M,
\qquad
(\iota_2\circ i_2)^{*}\Psi
\;=\; i_2^{*}(\iota_2^{*}\Psi)
\;\cong\; i_2^{*}\Gamma_2
\;\cong\; O,
\]
where the last isomorphisms are those in the defining data of the two input couplings.
These composites are natural isomorphisms, being composites of natural isomorphisms.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Transport Distance}
\label{ssec:Galois_metric}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

With composition available, we now define the transport distance and record its basic properties.

\begin{definition}
\label{def:transport-distance}
The \emph{Galois transport distance} between $M,N\in\vect^{\bfP}$ is
\[
\dGT(M,N):=\inf\{\ \cost(\Gamma)\ \mid\ \Gamma\ \text{is a Galois coupling of }(M,N)\ \}.
\]
If there is no Galois coupling between $M$ and $N$, set $\dGT(M,N)=\infty$.
\end{definition}

\begin{lemma}
\label{lem:cost-subadditive}
If $\Gamma_1$ is a coupling for $(M,N)$ and $\Gamma_2$ is a coupling for $(N,O)$, and $\Psi$ is their composite from Proposition~\ref{prop:compose-couplings}, then
\[
\cost(\Psi)\ \le\ \cost(\Gamma_1)\ +\ \cost(\Gamma_2).
\]
\end{lemma}

\begin{proof}
For $r\in\bfR$,
\[
\begin{aligned}
d_{\bfP}\big((f_1\pi_1)(r),\ (h_2\pi_2)(r)\big)
&\le d_{\bfP}\big((f_1\pi_1)(r),\ (h_1\pi_1)(r)\big) \\
&\quad + \underbrace{d_{\bfP}\big((h_1\pi_1)(r),\ (f_2\pi_2)(r)\big)}_{=\,0} \\
&\quad + d_{\bfP}\big((f_2\pi_2)(r),\ (h_2\pi_2)(r)\big),
\end{aligned}
\]
since $\delta=h_1\pi_1=f_2\pi_2$. Taking suprema and observing
\[
\sup_{r\in\bfR}d_{\bfP}\big(f_1\pi_1(r),h_1\pi_1(r)\big)=\sup_{q_1\in\bfQ_1}d_{\bfP}\big(f_1(q_1),h_1(q_1)\big)=\cost(\Gamma_1),
\]
(and similarly for $\Gamma_2$) yields the claim.
\end{proof}

\begin{proposition}
\label{prop:gt-pseudometric}
For a finite poset $\bfP$ with metric $d_{\bfP}$, the function
\[
\dGT:\ \mathrm{Ob}(\vect^{\bfP})\times \mathrm{Ob}(\vect^{\bfP})\longrightarrow [0,+\infty]
\]
is an extended pseudometric.
\end{proposition}

\begin{proof}
Nonnegativity is immediate. For any $M$, the identity coupling $\bfQ=\bfP$, $f=h=\id_{\bfP}$, $g=i=\id_{\bfP}$, $\Gamma=M$ has cost $0$, so $\dGT(M,M)=0$. Symmetry holds because swapping the two insertion legs $(f\dashv g,h\dashv i)$ of any coupling gives a coupling for $(N,M)$ with the same cost (the metric $d_{\bfP}$ is symmetric). The triangle inequality follows from Lemma~\ref{lem:cost-subadditive}.
\end{proof}

\begin{corollary}
\label{cor:gt-metric-on-iso}
On isomorphism classes, $\dGT$ is an extended metric: if $\dGT{M}{N}=0$ then $M\cong N$.
\end{corollary}

\begin{proof}
Since $\bfP$ is finite, the set $\{d_{\bfP}(x,y)\mid x,y\in\bfP\}$ is finite; hence every coupling has cost in this finite set, and the infimum in the definition of $\dGT(M,N)$ is a \emph{minimum}. If $\dGT(M,N)=0$, there exists a coupling with $\cost(\Gamma)=0$, so $d_{\bfP}(f(q),h(q))=0$ for all $q\in\bfQ$, hence $f(q)=h(q)$ and therefore $f=h$ as maps $\bfQ\to\bfP$. Using Corollary~\ref{cor:3_adj},
\[
M\ \cong\ f_{!}\Gamma\ =\ h_{!}\Gamma\ \cong\ N,
\]
so $M\cong N$.
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Bottleneck Distance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We adopt the following conventions. For $n\in\bbN$ write $[n]=\{1,\dots,n\}$. If $X \cong \bigoplus_{i=1}^{n} X_i$ is a finite direct sum of indecomposables, write $\Summands(X)=\{X_i \mid i\in [n]\}$; for finite sets $A,B$ with $|A|=|B|$, let $\Bij(A,B)$ be the set of bijections $A\to B$. Throughout, $(\bfP,d_{\bfP})$ is a finite metric poset.

For each $M\in\vect^{\bfP}$ fix once and for all a decomposition $M\cong\Ds_{i=1}^n M_i$ into indecomposables. Set $|M|:=n$ (the \emph{size}) and $\Summands(M):=\{M_i\mid i\in[n]\}$ (the \emph{summand set}); these are well defined up to isomorphism and the elements of $\Summands(M)$ are pairwise distinct. A minimal projective resolution of $M$ is denoted $P\down^M$ and is unique up to isomorphism of exact complexes. Let
\[
\Res(M)\quad\text{denote the set of all projective resolutions of }M.
\]
If $R\down=(R_i,\partial_i)_{i\ge 0}\in\Res(M)$, its \emph{size vector} is $|R\down|:=(|R_i|)_{i\ge 0}$. For indecomposable projectives $U,V$ (identified with representables $U\cong\bfP(x,-)$, $V\cong\bfP(y,-)$), put
\[
\dist(U,V):=d_{\bfP}(x,y).
\]

If $E$ is any projective object in $\vect^{\bfP}$, the mapping cone $\Cone(\id_E)$ is the two-term contractible complex
\[
\cdots \to 0 \to E \xrightarrow{\ \id\ } E \to 0 \to \cdots,
\]
concentrated in consecutive degrees; its shift $\Cone(\id_E)[a]$ places the two copies of $E$ in degrees $a$ and $a-1$. Direct-summing $\Cone(\id_E)[a]$ with a projective resolution leaves the resolved module unchanged and yields a chain-homotopy equivalent resolution (we call this \emph{padding by a contractible cone}).

\begin{lemma}
\label{lem:all-prj-resol}
Every projective resolution of $M$ is obtained from the minimal one by padding with contractible cones:
\[
\Res(M)
\ =\
\Bigl\{
\ P\down^M\ \ds\ \Ds_{i\in[n]}\,\Cone(\id_{E_i})[a_i]\
\Bigm|\ n\in\bbN,\ a_i\in\bbN,\ a_i\ge 1,\ E_i\in\prj\bfP\ 
\Bigr\}.
\]
\end{lemma}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Matchings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now define degreewise matchings between two resolutions. Given $M,N\in\vect^{\bfP}$, consider pairs of projective resolutions with the same size vector:
\[
\Res(P\down^M,P\down^N)
\ :=\
\bigl\{\, (E\down,F\down)\in\Res(M)\times\Res(N)\ \bigm|\ |E\down|=|F\down|\,\bigr\}.
\]

\begin{proposition}
\label{prop:common-padding}
If the size vectors of $P\down^M$ and $P\down^N$ are finitely supported and have the same alternating sum
\[
\sum_{i\ge 0}(-1)^i|P^M_i|\ =\ \sum_{i\ge 0}(-1)^i|P^N_i|,
\]
then $\Res(P\down^M,P\down^N)\neq\emptyset$.
\end{proposition}

\begin{proof}
Let $p=(|P^M_i|)$ and $q=(|P^N_i|)$. Adding $\Cone(\id_E)[a]$ with $a\ge 1$ increases the size vector by the elementary vector $e^{(a)}$ having $1$ in degrees $a$ and $a-1$ (and $0$ elsewhere). These $e^{(a)}$ generate, as an abelian group, the kernel of the alternating-sum map $\alpha:\bigoplus_{i\ge 0}\bbZ\to\bbZ$, $\alpha(r)=\sum_i(-1)^ir_i$. Since $\alpha(p)=\alpha(q)$, the difference $q-p$ lies in this kernel and can be written $T^+-T^-$ with $T^\pm$ finite nonnegative combinations of the $e^{(a)}$. Then $p+T^+=q+T^-$ is a common upper bound, realized by padding $P\down^M$ by the cones in $T^+$ and $P\down^N$ by those in $T^-$. Hence there exist $(E\down,F\down)$ with $|E\down|=|F\down|$.
\end{proof}

For $(E\down,F\down)\in\Res(P\down^M,P\down^N)$, a \emph{matching} is a family of degreewise bijections
\[
B=(B_i)_{i\ge 0},\qquad B_i\in\Bij\bigl(\Summands(E_i),\,\Summands(F_i)\bigr).
\]
Define its \emph{cost} as the $L^\infty$–type aggregate of the underlying poset metric,
\[
\cost(B)\ :=\
\sup\bigl\{\,\dist\bigl(U,\ B_i(U)\bigr)\ \bigm|\ i\ge 0,\ U\in\Summands(E_i)\,\bigr\}.
\]
(Equivalently, $\cost(B)=\sup\{\dist(B_i^{-1}(V),V)\mid i\ge 0,\ V\in\Summands(F_i)\}$.)  
We refer to the quantity
\[
\dist_R(E\down,F\down)\ :=\ \inf_{\,B\in\Match(E\down,F\down)}\ \cost(B)
\]
as the \emph{matching distance} for resolutions with a fixed size vector.

\begin{lemma}[Triangle inequality for $\dist_R$ on a fixed size vector]
\label{lem:reg-triangle}
If $|E\down|=|F\down|=|G\down|$, then
\[
\dist_R(E\down,G\down)\ \le\ \max\bigl\{\dist_R(E\down,F\down),\ \dist_R(F\down,G\down)\bigr\}.
\]
\end{lemma}

\noindent\emph{Proof sketch.}
Compose nearly optimal degreewise bijections and take suprema across degrees.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Matching Distance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

With matchings and \(\dist_R\) in hand, we define the global distance by allowing padding.

\begin{definition}
For minimal resolutions $P\down^M$ and $P\down^N$ (not necessarily of the same size), the \emph{bottleneck distance} is
\[
\dist_B\bigl(P\down^M,P\down^N\bigr)
\ :=\ 
\inf_{\ (E\down,F\down)\in\Res(P\down^M,P\down^N)}\ \dist_R(E\down,F\down).
\]
We adopt the extended-value convention that $\dist_B\bigl(P\down^M,P\down^N\bigr)=\infty$ if there is no compatible padding (i.e.\ $\Res(P\down^M,P\down^N)=\varnothing$).
\end{definition}

Proposition~\ref{prop:common-padding} gives a sufficient condition for finiteness (equality of alternating sums); in general, $\dist_B$ may be infinite.

\begin{proposition}
\label{prop:bneck-pseudometric}
On the class of minimal projective resolutions $\{P\down^M\mid M\in\vect^{\bfP}\}$, the function $\dist_B$ is an extended metric:
\[
\dist_B:\ \{P\down^M\}\times\{P\down^N\}\longrightarrow [0,+\infty].
\]
\end{proposition}

\begin{proof}
Nonnegativity is immediate. For any $M$, take the same padding on both sides and the identity matching degreewise to obtain $\dist_B(P\down^M,P\down^M)=0$. Symmetry holds because each matching family $B=(B_i)$ has an inverse family of the same cost. For the triangle inequality, given $P\down^M,P\down^N,P\down^O$, choose paddings producing $(E\down,F\down)$ and $(F'\down,G\down)$ with equal size vectors for $(M,N)$ and $(N,O)$ and with $\dist_R$ arbitrarily close to $\dist_B(M,N)$ and $\dist_B(N,O)$. Pad further to a common refinement so both pairs share the same size vector, compose the degreewise bijections, and apply Lemma~\ref{lem:reg-triangle}; taking infima over paddings yields the inequality. Finally, if $\dist_B(P\down^M,P\down^N)=0$, the costs lie in the finite set $\{d_{\bfP}(x,y)\mid x,y\in\bfP\}$, so the infimum is attained: there exist paddings and a matching of cost $0$. Thus each matched pair of summands has equal index in $\bfP$, the padded resolutions agree termwise up to isomorphism, and removing contractible cones yields $P\down^M\cong P\down^N$. Hence $\dist_B$ is an extended metric.
\end{proof}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Bottleneck Distance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We adopt the following conventions. For $n\in\bbN$ write $[n]=\{1,\dots,n\}$. If $X \cong \bigoplus_{i=1}^{n} X_i$ is a finite direct sum of indecomposables, write $\Summands(X)=\{X_i \mid i\in [n]\}$; for finite sets $A,B$ with $|A|=|B|$, let $\Bij(A,B)$ be the set of bijections $A\to B$. Throughout, $(\bfP,d_{\bfP})$ is a finite metric poset.

For each $M\in\vect^{\bfP}$ fix once and for all a decomposition $M\cong\Ds_{i=1}^n M_i$ into indecomposables. Set $|M|:=n$ (the \emph{size}) and $\Summands(M):=\{M_i\mid i\in[n]\}$ (the \emph{summand set}); these are well defined up to isomorphism and the elements of $\Summands(M)$ are pairwise distinct. A minimal projective resolution of $M$ is denoted $P\down^M$ and is unique up to isomorphism of exact complexes. Let
\[
\Res(M)\quad\text{denote the set of all projective resolutions of }M.
\]
If $R\down=(R_i,\partial_i)_{i\ge 0}\in\Res(M)$, its \emph{size vector} is $|R\down|:=(|R_i|)_{i\ge 0}$. For indecomposable projectives $U,V$ (identified with representables $U\cong\bfP(x,-)$, $V\cong\bfP(y,-)$), put
\[
\dist(U,V):=d_{\bfP}(x,y).
\]

If $E$ is any projective object in $\vect^{\bfP}$, the mapping cone $\Cone(\id_E)$ is the two-term contractible complex
\[
\cdots \to 0 \to E \xrightarrow{\ \id\ } E \to 0 \to \cdots,
\]
concentrated in consecutive degrees; its shift $\Cone(\id_E)[a]$ places the two copies of $E$ in degrees $a$ and $a-1$. Direct-summing $\Cone(\id_E)[a]$ with a projective resolution leaves the resolved module unchanged and yields a chain-homotopy equivalent resolution (we call this \emph{padding by a contractible cone}).

\begin{lemma}
\label{lem:all-prj-resol}
Every projective resolution of $M$ is obtained from the minimal one by padding with contractible cones:
\[
\Res(M)
\ =\
\Bigl\{
\ P\down^M\ \ds\ \Ds_{i\in[n]}\,\Cone(\id_{E_i})[a_i]\
\Bigm|\ n\in\bbN,\ a_i\in\bbN,\ E_i\in\prj\bfP\ 
\Bigr\}.
\]
\end{lemma}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Matchings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now define degreewise matchings between two resolutions. Given $M,N\in\vect^{\bfP}$, consider pairs of projective resolutions with the same size vector:
\[
\Res(P\down^M,P\down^N)
\ :=\
\bigl\{\, (E\down,F\down)\in\Res(M)\times\Res(N)\ \bigm|\ |E\down|=|F\down|\,\bigr\}.
\]


\begin{proposition}
If the size vectors of $P\down^M$ and $P\down^N$ are finitely supported and have the same alternating sum $\sum_i(-1)^i|P_i|=\sum_i(-1)^i|Q_i|$, then $\Res(P\down^M,P\down^N) \neq \emptyset$.
\end{proposition}
\begin{proof}
%Add proof
\end{proof}


For $(E\down,F\down)\in\Res(P\down^M,P\down^N)$, a \emph{matching} is a family of degreewise bijections
\[
B=(B_i)_{i\ge 0},\qquad B_i\in\Bij\bigl(\Summands(E_i),\,\Summands(F_i)\bigr).
\]
Define its \emph{cost} s the $L^\infty$–type aggregate of the underlying poset metric,
\[
\cost(B)\ :=\
\sup\bigl\{\,\dist\bigl(U,\ B_i(U)\bigr)\ \bigm|\ i\ge 0,\ U\in\Summands(E_i)\,\bigr\}.
\]
Because $\bfP$ is finite, this supremum is a maximum and hence finite. 

%Remove discussion of regular distance


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Matching Distance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%Change notation to match notation above for the various projective resolutions
%Add transition words

\begin{definition}
The \emph{bottleneck distance} between any two minimal resolutions $P\down^M$ and $P\down^N$ of two $P$-module $M$, and $N$, not necessarily of the same size, is define as the best regular distance over all compatible paddings:
\[
\dist_B\bigl(P\down^M,P\down^N\bigr)
\ :=\ 
\inf_{\ (P\down,Q\down)\in\Res(P\down^M,P\down^N)}\ \dist_R(P\down,Q\down).
\]
For completeness we adopt the extended-value convention that $\dist_B\bigl(P\down^M,P\down^N\bigr)=\infty$ if the infimum is taken over the empty set.
\end{definition}



\begin{proposition}
\label{prop:bneck-pseudometric}
On the class of minimal projective resolutions $\{P\down^M\mid M\in\vect^{\bfP}\}$, the function $\dist_B$ is an extended metric.
\[
\dist_B: \{P\down^M\mid M\in\vect^{\bfP}\} \times \{P\down^M\mid M\in\vect^{\bfP}\} \longrightarrow [0,+\infty]
\]
\end{proposition}

\begin{proof}
%fill in proof
\end{proof}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Botleneck distance of minimal projective resolutions}
%Not a fan of the title for this subsection
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% The following macros might be useful. They are already in my macros.tex
%\DeclareMathOperator{\Match}{Match}      % set of matchings (as defined in text)
%\DeclareMathOperator{\Bij}{Bij}          % set of bijections
%\DeclareMathOperator{\Cone}{Cone}        % cone construction
%\DeclareMathOperator{\Summands}{Summands}% set of direct summands


We use the following simple conventions for this section. For $n\in\bbN$ write $[n]=\{1,\dots,n\}$. If $X \cong \bigoplus_{i=1}^{n} X_i$ is a finite direct sum of indecomposables, write $\Summands(X)=\{X_i \mid i\in [n]\}$. For finite sets $A$ and $B$ with the same cardinality, $\Bij(A,B)$ denotes the set of bijections $A\to B$.



%Let $A$ be a finite-dimensional algebra over the field $\Bbbk$.
% I do not lilke to start with a set of notation. I prefer to introduce notation when needed.

\begin{notation}
We choose an indecomposable decomposition $M = \Ds_{i=1}^n M_i$ of $M$ once for all $M \in \vect^\bfP$,
and set $|M|:= n$, and $\Summands(M):= \{M_i \mid i \in [n]\}$, which are called the \emph{size} and the \emph{summand set} of $M$, respectively.

Note that $|M|$ is an invariant of $M$ up to isomorphism,
and that the elements of $\Summands(M)$ are pairwise distinct.
\begin{enumerate}
\item
We denote a minimal projective resolution of $M$
by $P \down^M$, which is uniquely determined up to isomorphism of exact sequences.

%% I am not happy with the notation $P \down M$ for the set of minimal projective reslutions

\item
Denote by $\calP(M)$ the set of all projective resolutions of $M$.

%% I am not happy with the notation $\calP(M)$ for the set of all projective reslutions. We are using P too many times.


\item
For each $P\down = (P_i, \partial_i)_{i\ge 0} \in \calP(M)$,
we set $|P\down|:= (|P_i|)_{i \ge 0}$, and call it the \emph{size vector} of $P\down$.

\item
Let $(\bfP, d_\bfP)$ be a finite metric poset\footnote{%%%%%%%%%%%%%%%%%%
For example, in the classical case that $\bfP$ is a totally ordered set $\bfP:= \{1 < 2 < \cdots < n\}$ for some $n \ge 1$, we can define
$d_\bfP(x, y):= |x - y|$ for all $x, y \in \bfP$.
}.
Then for any indecomposable projective $\bfP$-modules
$P$ and $Q$, we set the \emph{distance} of $P$ and $Q$ to be
$$
\dist(P, Q):= d_\bfP(x, y),
$$
where $P \iso \bfP(x, \blank)$ and
$Q \iso \bfP(y, \blank)$ with $x, y \in \bfP$.

%Not correct notation. Should be using \bfP(x,-) for indecomposable projectives

\end{enumerate}
\end{notation}

\begin{lemma}
\label{lem:all-prj-resol}
The following holds.
$$
\calP(M) =\{P\down^M \ds \Ds_{i \in [n]} \Cone(\id_{P_i})[a_i]
\mid \exists n \in \bbN, \forall i \in [n], P_i \in \prj \bfP, a_i \in \bbN\}.
$$
\end{lemma}

The following definition is crucial for our stability theorem.

%% Below, the notion of a bottleneck distance is defined between minimal projective modules. Parallel the development
% of this metric with the development of the Galois Transport Distance above as much as possible while keeping the presentation
%simple and natural.

\begin{definition}
Let $M, N \in \vect^\bfP$. Then 
\begin{enumerate}
\item
We set
$$
\calP(P\down^M, P\down^N):=
\{(P\down, Q\down) \in \calP(M) \times \calP(N) \mid
|P\down| = |Q\down|\}.
$$

\item
For each $(P\down, Q\down) \in \calP(P\down^M, P\down^N)$, we set
$$
\Match(P\down, Q\down):= \prod_{i\ge 0}
\Bij(\Summands(P_{i}(M)), \Summands(Q_{i}(N))),
$$
the element of which is called a \emph{matching} of $P\down$ and $Q\down$.

\item
For each matching $b = (b_i)_{i\ge 0}$ of
$P\down$ and $Q\down$, we define its \emph{cost}
$\cost(b)$ by
$$
\cost(b):= \sup\{\dist(P, b_i(P)) \mid i \ge 0,
P \in \Summands(P_i^M)\}.
$$

\item
We define the \emph{regular distance}
of $P\down$ and $Q\down$ by
$$
\dist_R(P\down, Q\down):=
\inf \{\cost(b) \mid b \in \Match(P\down, Q\down)\}.
$$

\item
Finally, we define the \emph{bottle neck distance}
of $P\down^M$ and $P\down^N$ by
$$
\dist_B(P\down^M, P\down^N):=
\inf \{\dist_R(P\down, Q\down) \mid 
(P\down, Q\down) \in \calP(P\down^M, P\down^N)\}.
$$
\end{enumerate}
\end{definition}

\begin{remark}
By Lemma \ref{lem:all-prj-resol}, we see that
$\calP(P\down^M, P\down^N) \ne \emptyset$
for all $M, N \in \vect^\bfP$.
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Stability Theorem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}
\label{lem:rt-adj-prj-ind}



If $f : \bfX \leftrightarrows \bfP : g$ is a Galois connection of posets $\bfX$ and $\bfP$,
then we have $g^\ast \bfX(x,\blank) \iso \bfP(f(x), \blank)$
in $\vect^\bfP$ for all $x \in \bfX$.
\end{lemma}

\begin{proof}
There exist isomorphisms
$$
(g^\ast\bfX(x,\blank))(y) \iso \bfX(x,g(y)) \iso \bfP(f(x), y)
$$
natural in $y \in \bfP$.
\end{proof}

We now prove the stability theorem for
minimal projective resolutions.

\begin{theorem}
Let $(\bfP, d_\bfP)$ be a finite metric poset.
Then for any $M, N \in \vect^\bfP$ we have
$$
\dist_B(P\down^M, P\down^N) \le \dGT(M, N).
$$
\end{theorem}

\begin{proof}
Let $e:= \dGT(M,N)$ and $\ep > 0$ any positive real number.
Then there exists some Galois coupling $(\bfX, f \dashv g, h \dashv i, \Ga)$
of $M$ and $N$
% with $\al \colon g^\ast \Ga \isoto M$
% and $\be \colon i^\ast \Ga \isoto N$ isomorphisms 
such that $e \le \cost(\Ga) \le e + \ep$.
It is enough to construct some
$(P\down, Q\down) \in \calP(P\down^M, P\down^N)$
such that $\dist_R(P\down, Q\down) \le \cost(\Ga)$.
Indeed, when this is the case,
we have $\dist_B(P\down^M, P\down^N) \le \dist_R(P\down, Q\down) \le e + \ep$,
which shows that $\dist_B(P\down^M, P\down^N) \le e$.
% \todoilgreen{Here give such a construcion from
% the $\ep$-interleaving diagram of $M$ and $N$ as
% in the notes of 2025-07-30.}

Let $R\down = (R_i, \partial_i)_{i \ge 0}$ be a projective resolution of $\Ga$.
Then since $g^\ast$ (resp.\ $i^\ast$) is an exact functor preserving projectivity,
$P\down:= (g^\ast R_i, g^\ast \partial_i)_{i \ge 0}$
(resp.\ $Q\down:= (i^\ast R_i, i^\ast \partial_i)_{i \ge 0}$) is a projective
resolution of $g^\ast \Ga \iso M$ (resp. $i^\ast \Ga \iso N$).
We first show that $(P\down, Q\down) \in \calP(P\down^M, P\down^N)$,
equivalently that $|P\down| = |Q\down|$.
For each $i \ge 0$, there exists a sequence $(x_{i,1}, \dots, x_{i,{n_i}})$ of elements of $\bfX$ (we allow $x_{i,j} = x_{i,k}$ for some $j \ne k$)
with $n_i = |R_i|$
such that $R_i \iso \Ds_{j=1}^{n_i} \bfX(x_{i,j}, \blank)$
by Lemma \ref{lem:ind-proj}.
Then we have indecomposable decompositions
\begin{equation}
\label{eq:ind-dec-P,Q}
P_i \iso \Ds_{j=1}^{n_i} \bfP(f(x_{i,j}), \blank),\ 
Q_i \iso \Ds_{j=1}^{n_i} \bfP(h(x_{i,j}), \blank)
\end{equation}
by Lemma \ref{lem:rt-adj-prj-ind}.
Thus $|P_i| = n_i = |Q_i|$ for all $i \ge 0$.
Hence $|P\down| = |Q\down|$.

By using \eqref{eq:ind-dec-P,Q}, we can define a matching
$b \in \Match(P\down, Q\down)$ by
$b_i(\bfP(f(x_{i,j}),\blank))$\linebreak[3]$:= \bfP(h(x_{i,j}),\blank)$ for all $i \ge 0$, $j = 1, \dots, n_i$.
Then we have
$$
\begin{aligned}
\dist_R(P\down, Q\down) &\le \cost(b)\\
&= \sup\{\dist(\bfP(f(x_{i,j}),\blank), \bfP(h(x_{i,j}),\blank)) \mid i \ge 0, j=1,\dots,n_i\}\\
&= \sup\{d_\bfP(f(x_{i,j}), h(x_{i,j})) \mid i \ge 0, j=1,\dots,n_i\}\\
&\le \sup\{d_\bfP(f(x), h(x)) \mid x \in \bfX\} = \cost(\Ga),
\end{aligned}
$$
as desired.
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Applications to Persistence}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Interleaving Distance}
\label{sec:intlv-dist}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

The Galois transport distance can be viewed as an adaptation of the classical interleaving distance from persistence theory. In this paper we work with modules over a finite poset $\bfP$, whereas classical persistence uses the totally ordered real line $(\mathbb{R},\le)$. Although persistence modules over $\mathbb{R}$ are not required to be finite, in practice one often restricts attention to a finite totally ordered subposet (e.g.\ determined by selected parameter values or critical times) and extends from there. This places interleavings and Galois transports in a common finite setting for comparison.


\subsection*{Definition}

We recall the standard categorical definition using the shift endofunctor
(see \cite{ChazalCohenSteinerGlisseGuibasOudot2009,Lesnick2015}).

\begin{definition}[Interleaving distance]\label{def:interleaving-distance}
Let $\bfP=(\mathbb{R},\le)$. For $\varepsilon\ge 0$, set
$T_\varepsilon:\vect^\bbR \to\vect^\bbR$ by
$(T_\varepsilon M)(r)=M(r+\varepsilon)$. An \emph{$\varepsilon$-interleaving}
between $M,N\in \vect^\bbR$ is a pair of natural transformations
$\varphi:M\Rightarrow T_\varepsilon N$ and $\psi:N\Rightarrow T_\varepsilon M$
such that the composites $M\to T_{2\varepsilon}M$ and
$N\to T_{2\varepsilon}N$ equal the canonical structure maps.  The
\emph{interleaving distance} is
\[
d_I(M,N):=\inf\{\ \varepsilon\ge 0\mid M,N\ \text{are $\varepsilon$-interleaved}\ \}.
\]
\end{definition}

\subsection*{Two basic facts}

\begin{proposition}[Tail agreement implies finiteness]\label{prop:tail-agree-vanish}
If $M,N \in \vect^\bbR$ satisfy $M(r)=N(r)=0$ for all $r\le b$ and
$M|_{[R,\infty)}\cong N|_{[R,\infty)}$, then $d_I(M,N)\le R-b$.
\end{proposition}

\begin{proof}
Let $\varepsilon=R-b$.  For $r>b$, define $\varphi_r$ by following
$M(r)\to M(r+\varepsilon)\xrightarrow{\theta_{r+\varepsilon}}N(r+\varepsilon)$,
and symmetrically define $\psi_r$.  For $r\le b$ both $M(r)$ and $N(r)$ vanish,
so the maps are zero.  One checks that these assignments are natural, and that
the interleaving equations hold: beyond $R$ the isomorphism $\theta$ cancels,
and before $b$ everything is zero.  Hence $d_I(M,N)\le\varepsilon$.
\end{proof}

\begin{proposition}[Pseudo-metric and separation]\label{prop:dI-pseudometric}
For $M,N,O \in \vect^\bbR$,
\[
d_I(M,N)=d_I(N,M),\qquad
d_I(M,O)\le d_I(M,N)+d_I(N,O),\qquad
d_I(M,M)=0.
\]
Moreover, $d_I(M,N)=0$ iff $M\cong N$. Hence $d_I$ is an extended
metric on isomorphism classes.
\end{proposition}

\begin{proof}
Symmetry is clear by swapping $\varphi,\psi$.  
For the triangle inequality, if $M,N$ are $\varepsilon$-interleaved and $N,O$ are $\delta$-interleaved, then by pasting the data one obtains an $(\varepsilon+\delta)$-interleaving of $M,O$; the details are a standard exercise.  
Finally, $d_I(M,M)=0$ via the identity maps.  
If $d_I(M,N)=0$ then a $0$-interleaving exists, giving mutually inverse isomorphisms $M\cong N$.
\end{proof}

\subsection*{Relating interleavings and Galois couplings on $\mathbb{R}$}

For this subsection fix $\bfP=(\mathbb{R},\le)$ with metric $d(x,y)=|x-y|$.
For $\varepsilon\ge 0$, the translations
$t_\varepsilon(x)=x+\varepsilon$ and $r_\varepsilon(x)=x-\varepsilon$
satisfy $t_\varepsilon\dashv r_\varepsilon$, so $t_\varepsilon\dashv r_\varepsilon$ is a Galois insertion.

\begin{proposition}[Interleaving $\Rightarrow$ coupling]\label{prop:int-to-galois-R}
If $M,N\in \vect^\bbR$ are $\varepsilon$-interleaved, there exists a
Galois coupling $(\bfX,f\dashv g,\ h\dashv i,\ \Gamma)$ for $(M,N)$ with
$\bfX=\mathbb{R}_L\sqcup\mathbb{R}_R$ and $\operatorname{cost}(\Gamma)=\varepsilon$.
\end{proposition}

\begin{proof}
Take two copies of $\mathbb{R}$, ordered so that cross-inequalities encode the shift:
$a_L\le b_R$ iff $a+\varepsilon\le b$, and symmetrically for $R$ to $L$.
Let $f,h:\bfX\to\mathbb{R}$ be the evident projections, with $f(a_L)=a$ and $f(a_R)=a+\varepsilon$, etc.
Define $\Gamma$ by $\Gamma(a_L)=M(a)$ and $\Gamma(a_R)=N(a)$, using the interleaving maps to define $\Gamma$ on cross arrows.  
By construction $g^\ast\Gamma\cong M$, $i^\ast\Gamma\cong N$, and the cost is $\sup|f(x)-h(x)|=\varepsilon$.  
Functoriality of $\Gamma$ on mixed zigzags is ensured by the interleaving identities; the reader can check this directly.
\end{proof}

\begin{proposition}[Coupling $\Rightarrow$ interleaving]\label{prop:coupling-implies-int-R}
Let $(\bfX,f\dashv g,\ h\dashv i,\ \Gamma)$ be a Galois coupling for
$(M,N)\in \vect^\bbR$ with $\sup_{x\in \bfX}|f(x)-h(x)|\le\varepsilon$.
Then $M$ and $N$ are $\varepsilon$-interleaved.
\end{proposition}

\begin{proof}
Fix $r\in\mathbb{R}$.  Using $x=g(r)$, we have $f(x)=r$ and $h(x)\le r+\varepsilon$.
Define $\varphi_r:M(r)\to N(r+\varepsilon)$ by
\[
M(r)\xrightarrow[\cong]{\alpha_r}\Gamma(x)\xrightarrow{\Gamma(\eta^h_x)}\Gamma(i(h(x)))
\xrightarrow[\cong]{\beta_{h(x)}}N(h(x))\to N(r+\varepsilon).
\]
Here $\eta^h$ is the unit of $h\dashv i$.  Similarly, using $y=i(r)$ one defines
\[
\psi_r:\ N(r)\to M(r+\varepsilon).
\]
Naturality follows from functoriality of $\Gamma$ and the seam maps.  
For the interleaving identities, one composes $\varphi$ and $\psi$ and uses the triangle identities of the adjunctions, together with the cost condition ensuring $h(g(r))\le r+\varepsilon$, etc.  
This reduces exactly to the canonical structure maps $M(r)\to M(r+2\varepsilon)$ and $N(r)\to N(r+2\varepsilon)$.  
Routine but slightly tedious diagram chases are left to the reader.
\end{proof}

\subsection*{Equality of distances on $\mathbb{R}$}

\begin{theorem}\label{thm:GT-equals-dI-R}
For all $M,N\in \vect^\bbR$, the Galois transport distance equals
the interleaving distance:
\[
\dGT(M,N)=d_I(M,N).
\]
\end{theorem}

\begin{proof}
By Proposition~\ref{prop:int-to-galois-R}, any $\varepsilon$-interleaving yields a coupling of cost $\varepsilon$, so $\GT\le d_I$.  
Conversely, by Proposition~\ref{prop:coupling-implies-int-R}, any coupling of cost $\varepsilon$ yields an $\varepsilon$-interleaving, so $d_I\le \GT$.  
Thus the two distances coincide.
\end{proof}







\bibliographystyle{plain}

\begin{thebibliography}{10}
\bibitem{MR4402576}
Hideto Asashiba, Micka\"{e}l Buchet, Emerson~G. Escolar, Ken Nakashima, and Michio Yoshiwaki.
\newblock On interval decomposability of 2{D} persistence modules.
\newblock {\em Computational Geometry}, 105/106:Paper No. 101879, 33, 2022.
\newblock \url{https://doi.org/10.1016/j.comgeo.2022.101879}.

\bibitem{ASASHIBA2023107397}
Hideto Asashiba, Emerson~G. Escolar, Ken Nakashima, and Michio Yoshiwaki.
\newblock Approximation by interval-decomposables and interval resolutions of persistence modules.
\newblock {\em Journal of Pure and Applied Algebra}, 227(10):107397, 2023.
\newblock \url{https://doi.org/10.1016/j.jpaa.2023.107397}.

\bibitem{ASASHIBA2023100007}
Hideto Asashiba, Emerson~G. Escolar, Ken Nakashima, and Michio Yoshiwaki.
\newblock On approximation of 2{D} persistence modules by interval-decomposables.
\newblock {\em Journal of Computational Algebra}, 6--7:100007, 2023.
\newblock \url{https://doi.org/10.1016/j.jaca.2023.100007}.

\bibitem{aoki2024bipath}
Toshitaka Aoki, Emerson~G. Escolar, and Shunsuke Tada.
\newblock Bipath persistence.
\newblock {\em arXiv preprint}, arXiv:2404.02536, 2024.
\newblock \url{https://doi.org/10.48550/arXiv.2404.02536}.

\bibitem{aoki2023summand}
Toshitaka Aoki, Emerson~G. Escolar, and Shunsuke Tada.
\newblock Summand-injectivity of interval covers and monotonicity of interval resolution global dimensions.
\newblock {\em arXiv preprint}, arXiv:2308.14979, 2023.
\newblock \url{https://doi.org/10.48550/arXiv.2308.14979}.

\bibitem{asashiba2024interval}
Hideto Asashiba, Etienne Gauthier, and Enhao Liu.
\newblock Interval replacements of persistence modules.
\newblock {\em arXiv preprint}, arXiv:2403.08308, 2024.
\newblock \url{https://doi.org/10.48550/arXiv.2403.08308}.

\bibitem{Asashiba2017}
Hideto Asashiba, Ken Nakashima, and Michio Yoshiwaki.
\newblock Decomposition theory of modules: the case of Kronecker algebra.
\newblock {\em Japan Journal of Industrial and Applied Mathematics}, 34(2):489--507, Aug 2017.
\newblock \url{https://doi.org/10.1007/s13160-017-0247-y}.

\bibitem{MR4091895}
Ulrich Bauer, Magnus~B. Botnan, Steffen Oppermann, and Johan Steen.
\newblock Cotorsion torsion triples and the representation theory of filtered hierarchical clustering.
\newblock {\em Advances in Mathematics}, 369:107171, 51, 2020.
\newblock \url{https://doi.org/10.1016/j.aim.2020.107171}.

\bibitem{BBH2024approximations}
Benjamin Blanchette, Thomas Br{\"u}stle, and Eric~J. Hanson.
\newblock Homological approximations in persistence theory.
\newblock {\em Canadian Journal of Mathematics}, 76(1):66--103, 2024.
\newblock \url{https://doi.org/10.4153/s0008414x22000657}.

\bibitem{dey2022fast}
Tamal~K Dey and Tao Hou.
\newblock Fast computation of zigzag persistence.
\newblock In {\em 30th Annual European Symposium on Algorithms (ESA 2022)}. Schloss Dagstuhl-Leibniz-Zentrum f{\"u}r Informatik, 2022.
\newblock \url{https://doi.org/10.4230/LIPIcs.ESA.2022.43}.

\bibitem{dey2023computing}
Tamal~K Dey, Woojin Kim, and Facundo M{\'e}moli.
\newblock Computing generalized rank invariant for 2-parameter persistence modules via zigzag persistence and its applications.
\newblock {\em Discrete {$\&$} Computational Geometry}, pages 1--28, 2023.
\newblock \url{https://doi.org/10.1007/s00454-023-00584-z}.

\bibitem{MR3824276}
Tamal~K. Dey and Cheng Xin.
\newblock Computing bottleneck distance for 2-{D} interval decomposable modules.
\newblock In {\em 34th {I}nternational {S}ymposium on {C}omputational {G}eometry}, volume~99 of {\em LIPIcs. Leibniz Int. Proc. Inform.}, pages Art. No. 32, 15. Schloss Dagstuhl. Leibniz-Zent. Inform., Wadern, 2018.
\newblock \url{https://doi.org/10.4230/LIPIcs.SoCG.2018.32}.

\bibitem{edelsbrunner2010computational}
Herbert Edelsbrunner and John L. Harer.
{\em Computational {T}opology: {A}n {I}ntroduction}. 
American Mathematical Society, Providence, 2010.
\newblock \url{https://doi.org/10.1090/mbk/069}.

\bibitem{MR1949898}
Herbert Edelsbrunner, David Letscher, and Afra Zomorodian.
\newblock Topological persistence and simplification.
\newblock {\em Discrete {$\&$} Computational Geometry}, 28(4):511--533, 2002.
\newblock \url{https://doi.org/10.1007/s00454-002-2885-2}.

\bibitem{gabriel2006auslander}
Peter Gabriel.
\newblock Auslander-Reiten sequences and representation-finite algebras.
\newblock In {\em Representation Theory I: Proceedings of the Workshop on the Present Trends in Representation Theory, Ottawa, Carleton University, August 13--18, 1979}, pages 1--71. Springer, 2006.
\newblock \url{https://doi.org/10.1007/BFb0089778}.

\bibitem{hiraoka2023refinement}
Yasuaki Hiraoka, Ken Nakashima, Ippei Obayashi, and Chenguang Xu.
\newblock Refinement of interval approximations for fully commutative quivers.
\newblock {\em arXiv preprint arXiv:2310.03649}, 2023.
\newblock \url{https://doi.org/10.48550/arXiv.2310.03649}.

\bibitem{JY}
Johnson; Donald Yau:
{\it 2-dimensional categories}%%%%%%% give a complete one

\bibitem{kim2021generalized}
Woojin Kim and Facundo M{\'e}moli.
\newblock Generalized persistence diagrams for persistence modules over posets.
\newblock {\em Journal of Applied and Computational Topology}, 5(4):533--581, 2021.
\newblock \url{https://doi.org/10.1007/s41468-021-00075-1}.

\bibitem{MR3728284}
James R. Munkres.
{\em Topology} second edition. 
Prentice Hall, Inc., Upper Saddle River, NJ, 2000.

\bibitem{MR2121296}
Afra Zomorodian and Gunnar Carlsson.
\newblock Computing persistent homology.
\newblock {\em Discrete $\&$ Computational Geometry}, 33(2):249--274, 2005.
\newblock \url{https://doi.org/10.1007/s00454-004-1146-y}.

\bibitem[CCSG+09]{ChazalCohenSteinerGlisseGuibasOudot2009} Fr{\'e}d{\'e}ric Chazal, David Cohen--Steiner, Marc Glisse, Leonidas J. Guibas, and Steve Y.
Oudot. {\it Proximity of persistence modules and their diagrams}. In Proceedings of the
25th Annual Symposium on Computational Geometry (SoCG), pages 237--246. ACM,
2009.

\bibitem[Cur18]{curry2018}
Justin Michael Curry: {\it Dualities between cellular sheaves and cosheaves}. Journal of
Pure and Applied Algebra, 222(4):966--993, 2018.

\bibitem[EP24]{ElchesenPatel}
Alex Elchesen and Amit Patel:
{\it A categorical approach to m{\"o}bius inversion via de-
rived functors}, 2024.

\bibitem[Les15]{Lesnick2015}
Michael Lesnick:
{\it The theory of the interleaving distance on multidimensional persistence modules}, Foundations of Computational Mathematics, 15(3):613--650, 2015.







\end{thebibliography}

\end{document}