\documentclass[12pt,letterpaper]{article}
\usepackage{amitstyle}
\input{macros.tex}



\begin{document}

\author{Hideto Asashiba\thanks{Supported by JSPS Grant-in-Aid for Scientific Research (C) 18K03207; 
JSPS Grant-in-Aid for Transformative Research Areas (A) (22A201); 
Osaka Central Advanced Mathematical Institute (MEXT Promotion of Distinctive Joint Research Center Program JPMXP0723833165).}
\and Amit K. Patel}


\title{Minimal Resolutions, M\"obius Inversion, and Bottleneck Stability}

\maketitle


\begin{abstract}
We develop a bottleneck stability theory for minimal projective resolutions of
persistence modules over finite posets.  On the module side, we introduce the
Galois transport distance, defined by transporting two modules through a common
“apex’’ poset via pairs of Galois connections and measuring the maximal
displacement in the index poset.  This distance is an extended metric and, in
the one-parameter case, agrees with the classical interleaving distance.

On the homological side, we define a bottleneck distance between minimal
projective resolutions by matching indecomposable projectives degreewise, with
contractible cones playing the role of diagonal points.  Our main stability
theorem shows that this resolution-level bottleneck distance is always bounded
above by the Galois transport distance.

Specializing to persistence, we pass to the interval poset and a kernel
construction, view persistence diagrams as minimal resolutions of kernel
modules, and obtain a stability inequality that recovers classical bottleneck
stability in one parameter and extends it to signed multiparameter diagrams.
Via a general relationship between minimal resolutions and M\"obius inversion,
these results can be interpreted as a stability theorem for
M\"obius homology, while remaining entirely phrased in the language of projective
resolutions.
\end{abstract}



\noindent\textbf{2020 Mathematics Subject Classification.} 16G20, 18G10, 55N31, 62R40.

\medskip

\noindent\textbf{Affiliations.}
Department of Mathematics, Faculty of Science, Shizuoka University,
836 Ohya, Suruga-ku, Shizuoka, 422-8529, Japan; Institute for Advanced Study, KUIAS, Kyoto University,
Yoshida Ushinomiya-cho, Sakyo-ku, Kyoto 606-8501, Japan; and
Osaka Central Advanced Mathematical Institute, 3-3-138 Sugimoto, Sumiyoshi-ku, Osaka, 558-8585, Japan. \par
Department of Mathematics, Colorado State University, Fort Collins, CO 80523, USA.

\medskip

\noindent\textbf{Emails.}
\href{mailto:asashiba.hideto@shizuoka.ac.jp}{asashiba.hideto@shizuoka.ac.jp}
\quad|\quad
\href{mailto:amit@akpatel.org}{amit@akpatel.org}


\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Persistent homology over a totally ordered parameter enjoys a particularly
rigid and satisfying structure.  Every finitely generated one-parameter
persistence module decomposes into intervals, and its persistence diagram can
be viewed in two equivalent ways: as the multiset of indecomposable interval
summands, and as the M\"obius inversion of suitable kernel and rank functions
on the interval poset
\cite{MR1949898,MR2121296,cohen2007stability,Patel:2018,kim2021generalized,McClearyPatel2022EditDistance}.
In this setting, bottleneck stability identifies the interleaving distance
with an optimal-transport-type distance between diagrams, providing a clean
metric framework for stability
\cite{cohen2007stability,ChazalCohenSteinerGlisseGuibasOudot2009,chazal2016structure}.

For multiparameter persistence, both parts of this story fracture.  The algebra
no longer reduces to intervals, and the M\"obius inversion of the kernel and
rank functions for a $\bfP$-module, defined on the interval poset of $\bfP$,
is in general \emph{signed}: it takes both positive and negative values
\cite{kim2021generalized,McClearyPatel2022EditDistance}.  When interpreted
through M\"obius homology and the rank-exact Betti-table viewpoint, these
signed coefficients group naturally into homological degrees, giving rise to
“signed barcodes’’ in the sense of Botnan–Oppermann–Oudot–Scoccola
\cite{BOTNAN2024109780}, with no analogue in the classical one-parameter
picture.  One of the conceptual contributions of this paper is to make this
relationship precise for arbitrary $\bfP$-modules by expressing M\"obius
homology in terms of minimal projective resolutions
(Remark~\ref{rmk:mobius-betti}); the persistence constructions we study are
built on top of this general bridge.

A longstanding difficulty has been to formulate a satisfactory \emph{stability}
theorem in this signed setting.  In one parameter, the bottleneck distance is
an honest metric and, by the isometry theorem of Lesnick, is equivalent to the
interleaving distance \cite{Lesnick2015}.  In the multiparameter case,
however, natural extensions of the bottleneck construction to signed barcodes
generally fail the triangle inequality, and the resulting “signed bottleneck
distances’’ give only weak lower bounds on interleaving
\cite{BOTNAN2024109780}.  Earlier attempts to obtain bottleneck-type stability
for generalized persistence diagrams, via edit distances over lattices, run
into related issues; an erratum in \cite{McClearyPatel2025Erratum} clarifies
this point for the framework of \cite{McClearyPatel2022EditDistance}.  In
parallel, Bubenik and Elchesen introduce and study Wasserstein-type metrics on
\emph{virtual persistence diagrams}—signed measures that encompass many of the
signed persistence diagrams appearing in the literature \cite{BubenikElchesen2022}.
Nevertheless, a metric stability theory formulated directly at the level of
$\bfP$-modules and their M\"obius-theoretic invariants, especially in the
multiparameter setting, has so far been missing.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Purpose}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

The purpose of this paper is twofold.  First, at the level of arbitrary
$\bfP$-modules, we construct a metric stability theory for a \emph{categorified
M\"obius inversion}, formulated in terms of minimal projective resolutions.
Second, we specialize this framework to persistence by passing to the interval
poset and the kernel construction, recovering classical bottleneck stability in
one parameter and extending it to signed multiparameter diagrams.

Minimal projective resolutions and their Betti tables have recently emerged as
central invariants for multiparameter persistence modules, both in the
rank-exact setting and in the usual multigraded setting
\cite{BOTNAN2024109780,doi:10.1137/22M1489150}.  On the computational side,
there is now a growing body of work on algorithms for computing minimal
presentations and resolutions, and hence Betti tables, for low-parameter
modules \cite{LesnickWright2022,dey2023computing,CGRST2024FoCM}.  Our approach
provides a metric layer that sits above these developments: it views minimal
projective resolutions as the recipients of an optimal-transport-type
stability theorem, with categorified M\"obius inversion as the organizing
principle.

Remark~\ref{rmk:mobius-betti} explains, for a
general $\bfP$-module $X$, how its M\"obius homology (in the sense of
\cite{patel2023mobius_homology,ElchesenPatel}) is encoded in a minimal
projective resolution $P\down^X$ via $\Ext$-groups, providing a formal bridge
between M\"obius inversion and minimal resolutions.  To our knowledge this
connection has not been made explicit before in this generality; a fuller treatment would merit a separate paper.  The present work
leans on this bridge to phrase all our constructions and stability results in
terms of minimal resolutions, while still controlling M\"obius-theoretic
invariants.


Concretely, for a finite metric poset $(\bfP,d_\bfP)$ we depart from the
classical interleaving-distance viewpoint and instead take a
Galois-theoretic version of optimal transport.  Following
G\"ulen--McCleary \cite{GulenMcCleary}, we recast interleavings in terms of
adjoint pairs of monotone maps.  In Section~\ref{sec:galois-transport} we
define the \emph{Galois transport distance}
\[
\dGT:\vect^\bfP\times\vect^\bfP\longrightarrow[0,\infty]
\]
(Definition~\ref{def:transport-distance}) by infimizing the cost of
\emph{Galois couplings}: factorizations of two $\bfP$-modules $M,N$ through a
common apex poset $\bfQ$ via two Galois insertions
$f:\bfQ\rightleftarrows\bfP:g$ and $h:\bfQ\rightleftarrows\bfP:i$, together
with a module $\Gamma\in\vect^\bfQ$ whose pullbacks along the right adjoints
recover $M$ and $N$.  The cost of such a coupling is the $L^\infty$-type
quantity
\[
\cost(\Gamma)\ :=\ \sup_{q\in\bfQ} d_\bfP\bigl(f(q),h(q)\bigr),
\]
directly mirroring the Kantorovich formulation of optimal transport in which
one transports mass along a cost function and measures the worst-case
displacement \cite{villani2003topics,rachev1998mass,edwards2011KRtheorem}.
We then set $\dGT(M,N)$ to be the infimum of $\cost(\Gamma)$ over all such
couplings.  Proposition~\ref{prop:gt-pseudometric} shows that $\dGT$ is an
extended pseudometric, and Corollary~\ref{cor:gt-metric-on-iso} upgrades it to
an extended metric on isomorphism classes of $\bfP$-modules.  In
Appendix~\ref{app:interleaving} we prove that when $\bfP=\bbR$ with its usual
metric, $\dGT$ recovers the classical interleaving distance, so Galois
transport refines the interleaving picture while remaining compatible with it.

On the “diagram side’’ we work not with signed barcodes directly, but with
minimal projective resolutions.  For a finite metric poset $(\bfP,d_\bfP)$ we
introduce, in Section~\ref{sec:bneck}, a bottleneck distance
\[
\dist_B:\{P\down^M\}\times\{P\down^N\}\longrightarrow[0,\infty]
\]
between minimal projective resolutions by matching indecomposable projective
summands degreewise, measuring the distance between summands via $d_\bfP$ on
the underlying points, and allowing padding by contractible cones that plays
the role of matching to the diagonal.  Proposition~\ref{prop:bneck-pseudometric}
shows that this yields an extended metric on the space of minimal resolutions.
Our first stability theorem (Theorem~\ref{thm:triangle}) shows that the Galois
transport distance controls this resolution-level bottleneck distance:
\[
\dist_B\bigl(P\down^M,P\down^N\bigr)\ \le\ \dGT(M,N)\qquad(M,N\in\vect^\bfP).
\]
Conceptually, this inequality is obtained by a single functorial construction:
given a Galois coupling for $(M,N)$, we choose a projective resolution of the
apex module $\Gamma$, pull it back along the two right adjoints to obtain
resolutions of $M$ and $N$, and then match their indecomposable summands
degreewise.  Even in the one-parameter setting, this viewpoint reinterprets
the classical bottleneck distance in terms of resolutions pulled back along
Galois couplings, clarifying why many different choices of matchings (or even
different apex couplings) can induce the same bottleneck distance.

Our second main step is to connect this framework to persistence diagrams.
For a finite metric poset $\bfP$ with a top element we consider the interval
poset $\Int\bfP$ and define, in Section~\ref{sec:persistence}, a kernel functor
\[
K:\vect^\bfP\longrightarrow\vect^{\Int\bfP}
\]
by sending an interval $[x,y)\in\Int\bfP$ with $y<\top$ to the kernel of the
structure map $M(x\to y)$ (and to $M(x)$ when $y=\top$).  Thus $K(M)$ is the
\emph{kernel module} associated to $M$, viewed as a functor on the interval
poset.  We show in Proposition~\ref{prop:K-Lipschitz} that $K$ is
1-Lipschitz with respect to Galois transport, and we define the persistence
diagram of $M$ to be the minimal projective resolution $K\down^M$.

In the persistence setting we apply Remark~\ref{rmk:mobius-betti} to the kernel
module $K(M)$, regarded as an $\Int\bfP$-module.  This shows that the minimal
projective resolution $K\down^M$ encodes the M\"obius homology of $K(M)$ and,
via the rank-exact Betti-table viewpoint
\cite{BOTNAN2024109780,doi:10.1137/22M1489150}, produces a signed barcode.
Combining the Lipschitz property of $K$ with the resolution-level stability
inequality yields our main persistence stability result
(Theorem~\ref{thm:persistence-stability}):
\[
\dist_B\bigl(K\down^M,K\down^N\bigr)\ \le\ \dGT^\bfP(M,N).
\]
In the one-parameter case, where $\bfP$ is a finite chain in $\bbR$ with a top
element adjoined and $d_\bfP$ is the path metric, this recovers the classical
bottleneck stability theorem for persistence diagrams.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Outline}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Section~\ref{sec:prelim} collects the categorical and homological preliminaries
we need for $\bfP$-modules.  Section~\ref{sec:galois-transport} introduces
Galois couplings and the transport distance $\dGT$, while
Section~\ref{sec:bneck} defines the bottleneck distance $\dist_B$ on minimal
projective resolutions and proves the stability inequality
$\dist_B\le\dGT$.  Section~\ref{sec:persistence} builds the kernel functor
$K:\vect^\bfP\to\vect^{\Int\bfP}$, interprets its minimal resolution as a
categorified M\"obius inversion, and establishes stability for the resulting
persistence diagrams.  Appendix~\ref{app:interleaving} shows that for
$\bfP=\bbR$ the Galois transport distance coincides with the usual
interleaving distance.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Acknowledgment of AI assistance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This paper was written with the assistance of ChatGPT~5~Pro. The authors have reviewed all results and take full
responsibility for the mathematical content and any remaining errors.

 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Preliminaries}
\label{sec:prelim}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We start with some categorical facts that will be used throughout.

\begin{lemma}
\label{lem:pres-proj}
Let $L:\calC\to\calD$ be a functor between abelian categories.
If $L$ has an exact right adjoint $R:\calD\to\calC$,
then $L$ sends projectives to projectives.
\end{lemma}

\begin{proof}
Let $A$ be projective in $\calC$. Then the functor $\calC(A,-)$ is exact, hence so is
\[
\calC(A,-)\circ R=\calC(A,R(-))\cong \calD(L(A),-).
\]
Thus $L(A)$ is projective.
\end{proof}

Let $\frkU$ be a universe. An element of $\frkU$ is called a $\frkU$-\emph{small} set. A category $\calC$ is $\frkU$-\emph{small} if its object set is $\frkU$-small and, for any objects $X,Y$, each hom-set $\calC(X,Y)$ is $\frkU$-small. We denote by $\Cat^\frkU$ the $2$-category whose objects are the $\frkU$-small categories, whose $1$-morphisms are functors, and whose $2$-morphisms are natural transformations.

\begin{proposition}
\label{prp:Yoneda-2-functor}
If $\calC$ is an object of $\Cat^\frkU$, then
\[
\Cat^\frkU(\mbox{-},\calC):(\Cat^\frkU)^{\mathrm{op}}\longrightarrow\Cat^\frkU
\]
is a $2$-functor.
\end{proposition}

\begin{proof}
See Proposition~4.5.4 in \cite{JY}.
\end{proof}

\begin{remark}
\label{rmk:contravariant-adj}
In particular, the $2$-functor $\Cat^\frkU(\mbox{-},\calC)$ sends an adjoint system $(f,g,\eta,\varepsilon)$ to the adjoint system $(g^{*},f^{*},\eta^{*},\varepsilon^{*})$ in a contravariant manner. Concretely, if $f\dashv g$ between categories $\calA$ and $\calB$, then precomposition yields $g^{*}\dashv f^{*}$ between the functor categories $\Cat^\frkU(\calB,\calC)$ and $\Cat^\frkU(\calA,\calC)$. We use this repeatedly with $\calC=\vect$ below.
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Poset Modules}
\label{ssec:poset-mod}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Throughout, $\Bbbk$ is a field, and $\bfP=(\bfP,\le)$ is a poset. We regard $\bfP$ as a small (thin) category: there is a unique morphism $x\to y$ exactly when $x\le y$. This lets us identify $\bfP$-modules with functors $\bfP\to\vect$ and, equivalently, with left modules over the $\Bbbk$-linearization $\Bbbk\bfP$ (same objects, order relations as basis arrows, composition by transitivity). We assume $\bfP$ is finite except in Appendix~\ref{app:interleaving}.


Let $\vect$ denote the category of finite-dimensional $\Bbbk$-vector spaces, and write $\vect^\bfP=\Fun(\bfP,\vect)$ for the category of $\bfP$-modules. If $\bfP$ is finite, then $\vect^\bfP$ is a $\Bbbk$-linear, abelian, Krull–Schmidt category, and for each $M,N\in\vect^\bfP$ the $\Bbbk$-space $\vect^\bfP(M,N)$ is finite dimensional.

We write $\prj\bfP$ for the full subcategory of projective objects in $\vect^\bfP$.
For $x\in\bfP$, the \emph{representable} at $x$ is the functor
\[
\bfP(x,-)\in\vect^\bfP.
\]
It sends $y\in\bfP$ to $\bfP(x,-)(y)=\Bbbk$ if $x\le y$ and to $0$ otherwise; for a relation $y\le z$ it acts by the identity on $\Bbbk$ whenever $x\le y$ (and by $0$ otherwise). By the Yoneda lemma there is a natural isomorphism
\[
\Hom_{\vect^\bfP}(\bfP(x,-),M)\cong M(x)\qquad(M\in\vect^\bfP),
\]
showing that each $\bfP(x,-)$ is projective.

\begin{lemma}
\label{lem:ind-proj}
The family $\{\bfP(x,-)\mid x\in\bfP\}$ is a complete set of representatives of the isomorphism classes of indecomposable projective $\bfP$-modules. Hence each $M\in\prj \bfP$ decomposes uniquely as
\[
M \cong \bigoplus_{x\in\bfP} \bfP(x,-)^{\,a_x}
\]
for a uniquely determined family $(a_x)_{x\in\bfP}\in\bbN^\bfP$.
\end{lemma}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Monotone Functions and Kan Extensions}
\label{ssec:mont-funct}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now record how monotone maps between posets induce adjoint triples
between the corresponding module categories via Kan extensions. This
will be used repeatedly once we restrict to Galois connections.


A map $f:\bfQ\to\bfP$ of posets is \emph{monotone} if $x\le y$ in $\bfQ$ implies $f(x)\le f(y)$ in $\bfP$. Viewing posets as thin categories, a functor $\bfQ\to\bfP$ is precisely a monotone map. Thus a monotone map $f:\bfQ\to\bfP$ induces the restriction (precomposition) functor
\[
f^{*}:\vect^\bfP\to\vect^\bfQ,\qquad f^{*}N = N\circ f .
\]

\begin{proposition}
\label{prop:Kan-posets}
For any monotone $f:\bfQ\to\bfP$, the restriction functor $f^{*}$ is exact.
Moreover, the left and right Kan extensions along $f$ exist; we denote them by
$f_{!}:=\Lan_f$ and $f_{*}:=\Ran_f$. By the defining property of Kan extensions
there are natural adjunctions $f_{!}\dashv f^{*}\dashv f_{*}$, so $f_{!}$ is
right exact and $f_{*}$ is left exact.
\end{proposition}

\[
\begin{tikzcd}[row sep=3em, column sep=6em]
\Nname{E}\vect^\bfQ & \Nname{C}\vect^\bfP
\arrow[from={E}, to={C}, "f_{!}", ""'{name=Fu}, bend left]
\arrow[from={C}, to={E},"f^{*}"{description, pos=.5, name=Fc}]
\arrow[from={E}, to={C}, "f_{*}"', ""'{name=Fd}, bend right]
\arrow[from={Fu}, to={Fc}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\arrow[from={Fc}, to={Fd}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\end{tikzcd}
\]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Galois Connections}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We recall that Galois connections are adjunctions between posets and underlie the identifications among $f_{!}, f^{*}, f_{*}$ used later.

\begin{definition}
A \emph{Galois connection} between posets $\bfQ,\bfP$ consists of monotone maps $f:\bfQ\to\bfP$ and $g:\bfP\to\bfQ$ such that
\[
f(u)\le x \iff u\le g(x)\qquad(u\in \bfQ,\ x\in \bfP).
\]
Equivalently, viewing $\bfQ$ and $\bfP$ as thin categories, this means $f\dashv g$ as functors. We write $f:\bfQ\rightleftarrows \bfP:g$, with $f$ left adjoint and $g$ right adjoint.
\end{definition}

\begin{corollary}
If $f:\bfQ\rightleftarrows \bfP:g$ is a Galois connection, then $g^{*}\dashv f^{*}$.
\[
\begin{tikzcd}[row sep=3em]
\Nname{E}\vect^\bfQ & \Nname{C} \vect^\bfP 
\arrow[from={E}, to={C}, "g^{*}", ""'{name=Gs}, bend left]
\arrow[from={C}, to={E}, "f^{*}"{name=Fs}, bend left]
\arrow[from={Gs}, to={Fs}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\end{tikzcd}.
\]
\end{corollary}

\begin{proof}
Immediate from the contravariant $2$-functoriality of $\Cat^\frkU(\mbox{-},\vect)$ (e.g.\ Proposition~4.5.4 in \cite{JY}).
\end{proof}

\begin{corollary}
\label{cor:3_adj}
In the same setting, there are natural isomorphisms $g^{*}\cong f_{!}$ and $f^{*}\cong g_{*}$. In particular, the adjoint pairs
\[
g^{*}\dashv f^{*},\qquad f_{!}\dashv f^{*},\qquad g^{*}\dashv g_{*}
\]
are compatible via these isomorphisms.
\[
\begin{tikzcd}[row sep=50pt, column sep = 70pt]
\Nname{E}\vect^\bfQ & \Nname{C} \vect^\bfP 
\arrow[from={E}, to={C}, "g^{*} \cong f_{!}"{description, pos=.5, name=gs}, bend left=15pt]
\arrow[from={C}, to={E}, "f^{*}\cong g_{*}"{description, pos=.5, name=fs}, bend left=15pt]
\arrow[from={C}, to={E}, "g_{!}"', ""{name=gL}, bend right=80pt]
\arrow[from={E}, to={C}, "f_{*}"', ""{name=fR}, bend right=80pt]
\arrow[from={gL}, to={gs}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\arrow[from={gs}, to={fs}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\arrow[from={fs}, to={fR}, "\rotatebox{-90}{$\dashv$}" description, phantom]
\end{tikzcd}.
\]
\end{corollary}

\begin{proof}
By uniqueness of adjoints in a $2$-category: $g^{*}$ and $f_{!}$ are both left adjoint to $f^{*}$, hence canonically isomorphic; dually, $f^{*}$ and $g_{*}$ are both right adjoint to $g^{*}$, hence canonically isomorphic.
\end{proof}

\begin{corollary}
\label{cor:g-ast-ex}
If $f:\bfQ\rightleftarrows \bfP:g$ is a Galois connection, then $g_{*}:\vect^\bfP\to\vect^\bfQ$ is exact.
\end{corollary}

\begin{proof}
Using Corollary~\ref{cor:3_adj}, $g_{*}\cong f^{*}$, and $f^{*}$ is exact by Proposition~\ref{prop:Kan-posets}.
\end{proof}

Combining Corollary~\ref{cor:g-ast-ex} with Lemma~\ref{lem:pres-proj} yields:

\begin{proposition}\label{prop:pullback_preserves_projectives}
Let $f:\bfQ\rightleftarrows \bfP:g$ be a Galois connection. If $M\in\vect^\bfQ$ is projective, then $g^{*}(M)$ is projective in $\vect^\bfP$.\qed
\end{proposition}

\medskip

The next basic facts will be used tacitly; they are immediate from the adjunction $f\dashv g$ and we omit the proof.

\begin{lemma}\label{lem:galois-connection-basics}
Let $f:\bfQ\rightleftarrows \bfP:g$ be a Galois connection. Then:
\begin{enumerate}
\item The following are equivalent: $f$ is surjective; $g$ is injective; $f\circ g=\id_{\bfP}$.
\item For $x\in \bfP$,
\[
g(x)=\max\{\,u\in \bfQ\mid f(u)\le x\,\}.
\]
In particular, if $f\circ g=\id_{\bfP}$, then
\[
g(x)=\max\{\,u\in \bfQ\mid f(u)=x\,\}.
\]
\end{enumerate}
\end{lemma}







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Galois Transport Distance}
\label{sec:galois-transport}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Fix a finite poset $\bfP$ equipped with a metric $d_{\bfP}$. Motivated by optimal transport, we compare $\bfP$-modules by \emph{transporting} them through a common “apex” poset $\bfQ$ via \emph{Galois insertions}. 
A \emph{Galois insertion} is a Galois connection $f:\bfQ\rightleftarrows\bfP:g$
such that $f\circ g=\id_\bfP$ (equivalently, $f$ is surjective and $g$ is injective
by Lemma~\ref{lem:galois-connection-basics}).

\begin{definition}
\label{def:coupling-insertion}
Let $M,N\in\vect^{\bfP}$. A \emph{Galois coupling} of $(M,N, f \dashv g, h \dashv i, \Gamma)$ consists of a finite poset $\bfQ$, two Galois insertions
\[
f:\bfQ\rightleftarrows \bfP:g,
\qquad
h:\bfQ\rightleftarrows \bfP:i
\quad\text{with}\quad
f\circ g=\id_{\bfP}=h\circ i,
\]
and a module $\Gamma\in\vect^{\bfQ}$ such that $g^{*}\Gamma \cong M$ and $i^{*}\Gamma \cong N$. Equivalently (Corollary~\ref{cor:3_adj}), $M\cong f_{!}\Gamma$ and $N\cong h_{!}\Gamma$.
\end{definition}

\[
\begin{tikzcd}
& \bfQ \ar[dd,"\Gamma"] \ar[dr, bend left, "h"{name=H}] \ar[dl, bend right, "f"'{name=F}] & \\
\bfP \ar[rd,"M"'] \ar[ru, bend right, "g"'{name=G}] && \bfP \ar[ld,"N"] \ar[lu, bend left, "i"{name=I}] \\
& \vect &
% adjunction markers:
\arrow[phantom, from=F, to=G, "\rotatebox{-45}{$\dashv$}" description]
\arrow[phantom, from=H, to=I, "\rotatebox{-135}{$\dashv$}" description]
\end{tikzcd}
\]

\begin{definition}
\label{def:cost}
The \emph{cost} of a coupling $(\bfQ,f\dashv g,\ h\dashv i,\ \Gamma)$ is
\[
\cost(\Gamma):=\sup_{q\in\bfQ} d_{\bfP}\big(f(q),\,h(q)\big).
\]
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Composition of Couplings}
\label{ssec:composition}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now show that Galois couplings compose.  
Suppose we are given couplings
\[
(M,N,\ f_1\dashv g_1,\ h_1\dashv i_1,\ \Gamma_1)
\qquad\text{and}\qquad
(N,O,\ f_2\dashv g_2,\ h_2\dashv i_2,\ \Gamma_2),
\]
displayed below:
\[
\begin{tikzcd}
    && \bfR \ar[dr, bend left, "\pi_2"{name=piTwo}] 
           \ar[dl, bend right, "\pi_1"'{name=piOne}]  && \\
    & \bfQ_1 
        \ar[dddr, "\Gamma_1", near end, bend right = 20]
        \ar[ur, bend right, "\iota_1"'{name=iotaOne}]  
        \ar[dl, bend right, "f_1"'{name=fOne}]
        \ar[dr, bend left, "h_1"{name=hOne}]
        & & 
      \bfQ_2 
        \ar[ddld, "\Gamma_2"', bend left = 20, near end]
        \ar[ul, bend left, "\iota_2"{name=iotaTwo}]
        \ar[dl, bend right, "f_2"'{name=fTwo}]
        \ar[dr, bend left, "h_2"{name=hTwo}]
        & \\
    \bfP \ar[rrdd, "M"] 
        \ar[ur, bend right, "g_1"'{name=gOne}] 
      && 
    \bfP \ar[dd, "N"]  
        \ar[ul, bend left, "i_1"{name=iOne}] 
        \ar[ur, bend right, "g_2"'{name=gTwo}] 
      && 
    \bfP \ar[ldld, "O"] 
        \ar[ul, bend left, "i_2"{name=iTwo}] \\
    &  & &  & \\
    && \vect &&
    % adjunction markers:
    \arrow[phantom, from=piOne, to=iotaOne, "\rotatebox{-45}{$\dashv$}" description]
    \arrow[phantom, from=piTwo, to=iotaTwo, "\rotatebox{-135}{$\dashv$}" description]
    \arrow[phantom, from=fOne,  to=gOne,   "\rotatebox{-45}{$\dashv$}" description]
    \arrow[phantom, from=hOne,  to=iOne,   "\rotatebox{-135}{$\dashv$}" description]
    \arrow[phantom, from=fTwo,  to=gTwo,   "\rotatebox{-34}{$\dashv$}" description]
    \arrow[phantom, from=hTwo,  to=iTwo,   "\rotatebox{-135}{$\dashv$}" description]
\end{tikzcd}
\]
\vspace{-0.5em}

Let $\bfR$ be the pullback of $(h_1,f_2)$ in the category of posets:
\[
\bfR \ :=\ \{(q_1,q_2)\in\bfQ_1\times\bfQ_2 : h_1(q_1)=f_2(q_2)\},
\]
with projections $\pi_1:\bfR\to\bfQ_1$ and $\pi_2:\bfR\to\bfQ_2$.
Since $\pi_1$ and \(\pi_2\) are surjective monotone maps, 
Lemma~\ref{lem:galois-connection-basics} guarantees that each 
admits a right adjoint $\pi_1 \dashv \iota_1$ and $\pi_2 \dashv \iota_2$.
Thus both \(\pi_1\dashv\iota_1\) and \(\pi_2\dashv\iota_2\) are Galois insertions.
Our goal is to construct a module $\Psi\in\vect^{\bfR}$ whose pullbacks
recover $M$ and $O$.



\begin{proposition}
\label{prop:compose-couplings}
There exists $\Psi\in\vect^{\bfR}$ and natural isomorphisms
\[
(\iota_1 g_1)^{*}\Psi \cong M,
\qquad
(\iota_2 i_2)^{*}\Psi \cong O,
\]
so that
\[
\bigl(M,O,\ f_1\pi_1 \dashv \iota_1 g_1,\ 
\ h_2\pi_2 \dashv \iota_2 i_2,\ 
\ \Psi \bigr)
\]
is a Galois coupling.  
This composite is unique up to unique isomorphism.
\end{proposition}

\begin{proof}
Each coupling gives canonical identifications in $\vect^{\bfP}$:
\[
g_1^{*}\Gamma_1 \cong M,\qquad
i_1^{*}\Gamma_1 \cong N,\qquad
g_2^{*}\Gamma_2 \cong N,\qquad
i_2^{*}\Gamma_2 \cong O,
\]
and we use these isomorphisms freely, suppressing them from the notation.

\smallskip
\paragraph{Constructing $\Psi$.}
For $(q_1,q_2)\in\bfR$ the adjunctions $h_1\dashv i_1$ and $f_2\dashv g_2$
give
\[
q_1 \le i_1 h_1(q_1),\qquad q_2 \le g_2 f_2(q_2),
\]
hence canonical structure maps
\[
\Gamma_1(q_1)\to \Gamma_1(i_1 h_1 (q_1)) \cong N(h_1(q_1)),\qquad
\Gamma_2(q_2)\to \Gamma_2(g_2 f_2 (q_2)) \cong N(f_2(q_2)).
\]
Because $(q_1,q_2)\in\bfR$ satisfies $h_1(q_1)=f_2(q_2)$, these maps land in the   
same vector space.  Define $\Psi(q_1,q_2)$ as their pullback:
\[
\begin{tikzcd}[column sep=6em]
\Psi(q_1,q_2) \ar[r, dashed] \ar[d, dashed] &
\Gamma_2(q_2) \ar[d, "\Gamma_2(q_2\le g_2 f_2(q_2))"] \\
\Gamma_1(q_1) \ar[r, "\Gamma_1(q_1\le i_1 h_1(q_1))"'] &
N(h_1(q_1)) = N(f_2(q_2)).
\end{tikzcd}
\]
Functoriality of $\Gamma_1$ and $\Gamma_2$, together with the universal property
of pullbacks, yields maps $\Psi(q_1,q_2)\to\Psi(q_1',q_2')$ for
$(q_1,q_2)\le(q_1',q_2')$, making $\Psi$ a functor $\bfR\to\vect$.

\smallskip
\paragraph{Recovering $M$.}
For $p\in\bfP$, set $(q_1,q_2)=\iota_1 g_1(p)$.  
Then $q_1=g_1(p)$ and $q_2=g_2 h_1(q_1)$, and the coupling isomorphism 
$g_1^{*}\Gamma_1\cong M$ gives a canonical identification $\Gamma_1(q_1)\ \cong\ M(p)$.
Moreover, since $q_2=g_2 h_1(q_1)$, the structure map $\Gamma_2(q_2\le g_2 f_2(q_2))$
is the identity.

For this pair $(q_1,q_2)$, the defining pullback square becomes
\[
\begin{tikzcd}[column sep=7.5em]
\Psi(q_1,q_2) \ar[r, dashed] \ar[d, dashed] &
\Gamma_2(q_2) 
   \ar[d, "\Gamma_2(q_2\le g_2 f_2(q_2))", "\cong"'] \\
\Gamma_1(q_1)\cong M(p)
   \ar[r, "\Gamma_1(q_1\le i_1 h_1(q_1))"'] &
N(h_1(q_1)) = N(f_2(q_2)),
\end{tikzcd}
\]
and hence $\Psi(q_1,q_2)\ \cong\ M(p)$.
Naturality then yields $(\iota_1 g_1)^{*}\Psi\ \cong\ M$.

\smallskip
\paragraph{Recovering $O$.}
For $p\in\bfP$, set $(q_1,q_2)=\iota_2 i_2(p)$.  
Then $q_2=i_2(p)$ and $q_1 = i_1 f_2(q_2)$, and the coupling isomorphism 
$i_2^{*}\Gamma_2\cong O$ gives a canonical identification $\Gamma_2(q_2)\ \cong\ O(p)$.
Moreover, since $q_1 = i_1 f_2(q_2)$, the structure map 
$\Gamma_1(q_1 \le i_1 h_1(q_1))$ is the identity.

For this pair $(q_1,q_2)$, the defining pullback square becomes
\[
\begin{tikzcd}[column sep=7.5em]
\Psi(q_1,q_2) \ar[r, dashed] \ar[d, dashed] &
\Gamma_2(q_2)\cong O(p)
   \ar[d, "\Gamma_2(q_2\le g_2 f_2(q_2))"'] \\
\Gamma_1(q_1)
   \ar[r, "\Gamma_1(q_1\le i_1 h_1(q_1))", "\cong"'] &
N(h_1(q_1)) = N(f_2(q_2)),
\end{tikzcd}
\]
and hence $\Psi(q_1,q_2)\ \cong\ O(p)$.
Naturality then yields $(\iota_2 i_2)^{*}\Psi\ \cong\ O$.

\smallskip
\paragraph{Adjunctions.}
Because adjoints compose and $\pi_i\dashv\iota_i$ (Lemma~\ref{lem:galois-connection-basics}), we obtain Galois insertions
$f_1\pi_1 \dashv \iota_1 g_1$ and $h_2\pi_2 \dashv \iota_2 i_2$.
Together with the identifications above, this completes the construction of the
composite coupling.
\end{proof}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Transport Distance}
\label{ssec:Galois_metric}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

With composition available, we now define the transport distance and record its basic properties.

\begin{definition}
\label{def:transport-distance}
The \emph{Galois transport distance} between $M,N\in\vect^{\bfP}$ is
\[
\dGT(M,N):=\inf\{\ \cost(\Gamma)\ \mid\ \Gamma\ \text{is a Galois coupling of }(M,N)\ \}.
\]
If there is no Galois coupling between $M$ and $N$, set $\dGT(M,N)=\infty$.
\end{definition}

\begin{lemma}
\label{lem:cost-subadditive}
If $\Gamma_1$ is a coupling for $(M,N)$ and $\Gamma_2$ is a coupling for $(N,O)$, and $\Psi$ is their composite from Proposition~\ref{prop:compose-couplings}, then
\[
\cost(\Psi)\ \le\ \cost(\Gamma_1)\ +\ \cost(\Gamma_2).
\]
\end{lemma}

\begin{proof}
For $r\in\bfR$,
\[
\begin{aligned}
d_{\bfP}\big((f_1\pi_1)(r),\ (h_2\pi_2)(r)\big)
&\le d_{\bfP}\big((f_1\pi_1)(r),\ (h_1\pi_1)(r)\big) \\
&\quad + \underbrace{d_{\bfP}\big((h_1\pi_1)(r),\ (f_2\pi_2)(r)\big)}_{=\,0} \\
&\quad + d_{\bfP}\big((f_2\pi_2)(r),\ (h_2\pi_2)(r)\big),
\end{aligned}
\]
since $\delta=h_1\pi_1=f_2\pi_2$. Taking suprema and observing
\[
\sup_{r\in\bfR}d_{\bfP}\big(f_1\pi_1(r),h_1\pi_1(r)\big)=\sup_{q_1\in\bfQ_1}d_{\bfP}\big(f_1(q_1),h_1(q_1)\big)=\cost(\Gamma_1),
\]
(and similarly for $\Gamma_2$) yields the claim.
\end{proof}

\begin{proposition}
\label{prop:gt-pseudometric}
For a finite poset $\bfP$ with metric $d_{\bfP}$, the function
\[
\dGT:\ \mathrm{Ob}(\vect^{\bfP})\times \mathrm{Ob}(\vect^{\bfP})\longrightarrow [0,+\infty]
\]
is an extended pseudometric.
\end{proposition}

\begin{proof}
Nonnegativity is immediate. For any $M$, the identity coupling $\bfQ=\bfP$, $f=h=\id_{\bfP}$, $g=i=\id_{\bfP}$, $\Gamma=M$ has cost $0$, so $\dGT(M,M)=0$. Symmetry holds because swapping the two insertion legs $(f\dashv g,h\dashv i)$ of any coupling gives a coupling for $(N,M)$ with the same cost (the metric $d_{\bfP}$ is symmetric). The triangle inequality follows from Lemma~\ref{lem:cost-subadditive}.
\end{proof}

\begin{corollary}
\label{cor:gt-metric-on-iso}
On isomorphism classes, $\dGT$ is an extended metric: if $\dGT(M, N)=0$ then $M\cong N$.
\end{corollary}

\begin{proof}
Since $\bfP$ is finite, the set $\{d_{\bfP}(x,y)\mid x,y\in\bfP\}$ is finite; hence every coupling has cost in this finite set, and the infimum in the definition of $\dGT(M,N)$ is a \emph{minimum}. If $\dGT(M,N)=0$, there exists a coupling with $\cost(\Gamma)=0$, so $d_{\bfP}(f(q),h(q))=0$ for all $q\in\bfQ$, hence $f(q)=h(q)$ and therefore $f=h$ as maps $\bfQ\to\bfP$. Using Corollary~\ref{cor:3_adj},
\[
M\ \cong\ f_{!}\Gamma\ =\ h_{!}\Gamma\ \cong\ N,
\]
so $M\cong N$.
\end{proof}

\paragraph{Relation to interleavings.}
Over the totally ordered real line, the Galois transport distance coincides
with the classical interleaving distance.  This equivalence was first observed
by G\"ulen and McCleary~\cite{GulenMcCleary}; for the convenience of the
reader, we include a self-contained proof in Appendix~\ref{app:interleaving}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Examples}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now present two illustrative examples—one in the 1-parameter setting
and one in the 2-parameter setting.  
These will serve as running test cases throughout the paper for the 
Galois transport distance and its comparison with later constructions.


\begin{example}\label{ex:gtd-chain}
Let $\bfP=\{1<2<3<4\}$ with metric $d_{\bfP}(i,j)=|i-j|$.  
For $a<b$ write $I[a,b)$ for the interval $\bfP$-module supported on 
$\{a,a+1,\dots,b-1\}$ with identity maps.  
Define
\[
M:=I[1,3)\oplus I[3,4),\qquad 
N:=I[2,4).
\]

\smallskip
\noindent
To construct a low-cost coupling, take the apex poset 
$\bfQ:=\{0<1<2<3<4<5\}$ and define $f,h:\bfQ\to\bfP$ by
\[
\begin{array}{c|cccccc}
q & 0 & 1 & 2 & 3 & 4 & 5\\ \hline
f(q) & 1 & 1 & 2 & 3 & 4 & 4\\
h(q) & 1 & 2 & 2 & 3 & 4 & 4
\end{array}
\]
with right adjoints
\[
g(x):=\max\{q\in\bfQ \mid f(q)\le x\},\qquad
i(x):=\max\{q\in\bfQ \mid h(q)\le x\}.
\]
A short computation shows that $f\dashv g$ and $h\dashv i$ are Galois insertions.

Let
\[
\Gamma := I^{\bfQ}[1,3)\ \oplus\ I^{\bfQ}[3,4),
\]
the sum of the corresponding interval modules on $\bfQ$.  
Then 
\[
g^*\Gamma \cong M,\qquad i^*\Gamma \cong N,
\]
so $(\bfQ,f\dashv g,h\dashv i,\Gamma)$ is a coupling.

\smallskip
\noindent
The coupling cost is
\[
\cost(\Gamma)=\sup_{q\in\bfQ} d_{\bfP}(f(q),h(q))=1,
\]
so $\dGT(M,N)\le 1$.

To see that this bound is sharp, note that $\bfP$ is finite, so 
$d_{\bfP}$ takes only integer values.  A coupling of cost $<1$ would
therefore have cost $0$, which would force $\dGT(M,N)=0$.  By
Corollary~\ref{cor:gt-metric-on-iso}, this would imply $M\cong N$, which
is false.  Hence no cost-$0$
coupling exists, and every coupling must move at least one point by
distance~$1$.  Thus $\dGT(M,N)\ge 1$.


Combining the upper and lower bounds, we conclude
\[
\dGT(M,N)=1.
\]

%\smallskip
%\noindent
%A summary of the data appears in Table~\ref{tab:gtd-chain}.
%\begin{table}[h]
%\centering
%\caption{Coupling data for Example~\ref{ex:gtd-chain}.}
%\label{tab:gtd-chain}
%\begin{tabular}{c|c}
%Quantity & Value \\ \hline
%Modules & $M=I[1,3)\oplus I[3,4),\quad N=I[2,4)$ \\
%Apex poset & $\bfQ=\{0,\dots,5\}$ \\
%Adjoints & $f\dashv g,\ h\dashv i$ (defined above) \\
%Apex module & $\Gamma=I^{\bfQ}[1,3)\oplus I^{\bfQ}[3,4)$ \\
%Cost & $\cost(\Gamma)=1$ \\
%GTD & $\dGT(M,N)=1$
%\end{tabular}
%\end{table}

\end{example}

\begin{example}\label{ex:gtd-2d}
Let $\bfP=\{1,\dots,8\}^2$ with the product order and 
$d_{\bfP}((i,j),(i',j'))=\max\{|i-i'|,|j-j'|\}$.  
For $(a_1,a_2)\le(b_1,b_2)$ let 
$J[(a_1,a_2),(b_1,b_2))$ denote the rectangle interval module.

Define two $2\times 2$ squares
\[
R_1:=J[(2,5),(4,7)),\qquad 
R_2:=J[(5,2),(7,4)),
\]
and set $M:=R_1\oplus R_2$.  

We now define the second $\bfP$-module $N$ by a short exact sequence.
Let
\[
A:=J[(1,4),(5,8)),\qquad
B:=J[(4,1),(8,5)),\qquad
S:=J[(4,4),(5,5)),
\]
and define $N$ via
\[
0\longrightarrow S\xrightarrow{(\iota,-\iota)}A\oplus B\longrightarrow N\longrightarrow 0.
\]
The supports of $M$ and $N$ are shown in Figure~\ref{fig:gtd-2d-modules}.

\smallskip
\noindent
To couple these modules, take the apex 
$\bfQ:=\bfP_L\sqcup\bfP_R$ (two disjoint copies of $\bfP$) and
define monotone maps
\[
f:\bfQ\rightleftarrows\bfP:g,\qquad 
h:\bfQ\rightleftarrows\bfP:i,
\]
by
\[
f(x)=x\ \text{on both copies},\qquad
h(x)=
\begin{cases}
\min(x+(1,1),(8,8)), & x\in\bfP_L,\\
x, & x\in\bfP_R,
\end{cases}
\]
with $g,i$ the corresponding right adjoints.  
Set
\[
\Gamma|_{\bfP_L}=M,\qquad \Gamma|_{\bfP_R}=N.
\]
Then 
\[
g^*\Gamma\cong M,\qquad i^*\Gamma\cong N,
\]
so $(\bfQ,f\dashv g,h\dashv i,\Gamma)$ is a Galois coupling.

Since points in $\bfP_L$ move by at most $(+1,+1)$ while points in $\bfP_R$
do not move at all, we have
\[
\cost(\Gamma)\ =\ \sup_{q\in\bfQ} d_{\bfP}(f(q),h(q))\ =\ 1,
\]
and therefore
\[
\dGT^{\bfP}(M,N)\ \le\ 1.
\]

To see that this bound is sharp, note that $d_{\bfP}$ takes only integer values.
Thus a cost strictly smaller than $1$ would have to be $0$.  A cost-$0$
coupling forces $f=h$ and hence $M\cong N$
(Corollary~\ref{cor:gt-metric-on-iso}), but the modules are not isomorphic.

Combining the upper and lower bounds yields
\[
\dGT^{\bfP}(M,N)=1.
\]
\begin{figure}[t]
\centering
\begin{tikzpicture}[scale=0.55, line cap=round, line join=round, >=Latex]

% ------- Left panel: M -------
\begin{scope}[shift={(0,0)}]
  \draw[thick] (1,1) rectangle (8,8);
  \draw[step=1, very thin, gray!50] (1,1) grid (8,8);
  \node[font=\small] at (4.5,8.6) {$M$};

  \foreach \x in {1,...,8} \node[below, font=\scriptsize] at (\x,1) {\x};
  \foreach \y in {1,...,8} \node[left,  font=\scriptsize] at (1,\y) {\y};

  % Two 2x2 squares for M
  \draw[thick, fill=black!12] (2,5) rectangle (4,7); % R1
  \draw[thick, fill=black!25] (5,2) rectangle (7,4); % R2
\end{scope}

% ------- Right panel: N -------
\begin{scope}[shift={(10.2,0)}]
  \draw[thick] (1,1) rectangle (8,8);
  \draw[step=1, very thin, gray!50] (1,1) grid (8,8);
  \node[font=\small] at (4.5,8.6) {$N$};

  \foreach \x in {1,...,8} \node[below, font=\scriptsize] at (\x,1) {\x};
  \foreach \y in {1,...,8} \node[left,  font=\scriptsize] at (1,\y) {\y};

  % L-shape: A and B (overlap is cross-hatched automatically)
  \draw[thick, pattern=north east lines] (1,4) rectangle (5,8); % A
  \draw[thick, pattern=north west lines] (4,1) rectangle (8,5); % B
\end{scope}

% ------- Shift arrows (visualizing the (+1,+1) move) -------
\draw[->, thick] (3,6) -- ($(10.2,0)+(4,7)$)
  node[midway, above, sloped, font=\scriptsize] {$(+1,+1)$};

\draw[->, thick] (6,3) -- ($(10.2,0)+(7,4)$)
  node[midway, below, sloped, font=\scriptsize] {$(+1,+1)$};

\end{tikzpicture}

\caption{Supports of \(M\) (left) and \(N\) (right) over 
\(\bfP=\{1,\dots,8\}^2\).
The \((+1,+1)\) arrows illustrate a unit-cost coupling moving each square of 
\(M\) onto the corresponding arm of the \(L\)-shape \(N\).}
\label{fig:gtd-2d-modules}
\end{figure}



\end{example}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Bottleneck Distance}
\label{sec:bneck}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In this section we define a second distance, expressed entirely in terms
of minimal projective resolutions, which we will compare to the Galois
transport distance in Section~\ref{sec:galois-transport}.


We adopt the following conventions. For $n\in\bbN$ write $[n]=\{1,\dots,n\}$. If $X \cong \bigoplus_{i=1}^{n} X_i$ is a finite direct sum of indecomposables, write $\Summands(X)=\{X_i \mid i\in [n]\}$; for finite sets $A,B$ with $|A|=|B|$, let $\Bij(A,B)$ be the set of bijections $A\to B$. Throughout, $(\bfP,d_{\bfP})$ is a finite metric poset.

For each $M\in\vect^{\bfP}$ fix once and for all a decomposition $M\cong\Ds_{i=1}^n M_i$ into indecomposables. Set $|M|:=n$ (the \emph{size}) and $\Summands(M):=\{M_i\mid i\in[n]\}$ (the \emph{summand set}); these are well defined up to isomorphism and the elements of $\Summands(M)$ are pairwise distinct. A minimal projective resolution of $M$ is denoted $P\down^M$ and is unique up to isomorphism of exact complexes. Let
\[
\Res(M)\quad\text{denote the set of all projective resolutions of }M.
\]
If $R\down=(R_i,\partial_i)_{i\ge 0}\in\Res(M)$, its \emph{size vector} is $|R\down|:=(|R_i|)_{i\ge 0}$. For indecomposable projectives $U,V$ (identified with representables $U\cong\bfP(x,-)$, $V\cong\bfP(y,-)$), put
\[
\dist(U,V):=d_{\bfP}(x,y).
\]

If $E$ is any projective object in $\vect^{\bfP}$, the mapping cone $\Cone(\id_E)$ is the two-term contractible complex
\[
\cdots \to 0 \to E \xrightarrow{\ \id\ } E \to 0 \to \cdots,
\]
concentrated in consecutive degrees; its shift $\Cone(\id_E)[a]$ places the two copies of $E$ in degrees $a$ and $a-1$. Direct-summing $\Cone(\id_E)[a]$ with a projective resolution leaves the resolved module unchanged and yields a chain-homotopy equivalent resolution (we call this \emph{padding by a contractible cone}).

\begin{lemma}
\label{lem:all-prj-resol}
Every projective resolution of $M$ is obtained from the minimal one by padding with contractible cones:
\[
\Res(M)
\ =\
\Bigl\{
\ P\down^M\ \ds\ \Ds_{i\in[n]}\,\Cone(\id_{E_i})[a_i]\
\Bigm|\ n\in\bbN,\ a_i\in\bbN,\ a_i\ge 1,\ E_i\in\prj\bfP\ 
\Bigr\}.
\]
\end{lemma}


\begin{remark}
\label{rmk:mobius-betti}
For $b\in\bfP$, let $1_b$ denote the indicator $\bfP$–module of the singleton
$\{b\}$ (a spread in the sense of~\cite{ElchesenPatel}), and let $M\in\vect^\bfP$.

In the language of~\cite{ElchesenPatel}, the M\"obius cohomology of $M$ at $b$
is computed by the Ext–groups
\[
\Ext^d_{\vect^\bfP}(1_b,M),
\]
and the M\"obius homology groups $H^\downarrow_d M(b)$ of~\cite{patel2023mobius_homology}
are, for $\vect$, canonically dual:
\[
H^\downarrow_d M(b)\ \cong\ \Ext^d_{\vect^\bfP}(1_b,M)^\vee,
\]
where $(-)^\vee$ denotes $k$–linear dual.
In particular, if $P\down^M\to M$ is a minimal projective resolution, then the
Ext–groups (and hence the M\"obius homology at $b$) are functorially determined
by $P\down^M$ via the standard computation
\[
\Ext^d_{\vect^\bfP}(1_b,M)
\ \cong\
H^d\!\bigl(\Hom_{\vect^\bfP}(P\down^{1_b},P\down^M)\bigr),
\]
for any projective resolution $P\down^{1_b}\to 1_b$.
Thus, up to duality, the M\"obius homology of $M$ is encoded in its minimal
projective resolution.

We will not use this identification in the sequel, but it provides a conceptual
bridge between the M\"obius homology of~\cite{patel2023mobius_homology} and the
projective–resolution viewpoint developed in this paper; full details in the
(cohomological) setting can be found in~\cite{ElchesenPatel}.
\end{remark}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Matchings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now define degreewise matchings between two resolutions. Given $M,N\in\vect^{\bfP}$, consider pairs of projective resolutions with the same size vector:
\[
\Res(P\down^M,P\down^N)
\ :=\
\bigl\{\, (E\down,F\down)\in\Res(M)\times\Res(N)\ \bigm|\ |E\down|=|F\down|\,\bigr\}.
\]

\begin{proposition}
\label{prop:common-padding}
If the size vectors of $P\down^M$ and $P\down^N$ are finitely supported and have the same alternating sum
\[
\sum_{i\ge 0}(-1)^i|P^M_i|\ =\ \sum_{i\ge 0}(-1)^i|P^N_i|,
\]
then $\Res(P\down^M,P\down^N)\neq\emptyset$.
\end{proposition}

\begin{proof}
Let $p=(|P^M_i|)$ and $q=(|P^N_i|)$. Adding $\Cone(\id_E)[a]$ with $a\ge 1$ increases the size vector by the elementary vector $e^{(a)}$ having $1$ in degrees $a$ and $a-1$ (and $0$ elsewhere). These $e^{(a)}$ generate, as an abelian group, the kernel of the alternating-sum map $\alpha:\bigoplus_{i\ge 0}\bbZ\to\bbZ$, $\alpha(r)=\sum_i(-1)^ir_i$. Since $\alpha(p)=\alpha(q)$, the difference $q-p$ lies in this kernel and can be written $T^+-T^-$ with $T^\pm$ finite nonnegative combinations of the $e^{(a)}$. Then $p+T^+=q+T^-$ is a common upper bound, realized by padding $P\down^M$ by the cones in $T^+$ and $P\down^N$ by those in $T^-$. Hence there exist $(E\down,F\down)$ with $|E\down|=|F\down|$.
\end{proof}

For $(E\down,F\down)\in\Res(P\down^M,P\down^N)$, a \emph{matching} is a family of degreewise bijections
\[
B=(B_i)_{i\ge 0},\qquad B_i\in\Bij\bigl(\Summands(E_i),\,\Summands(F_i)\bigr).
\]
Define its \emph{cost} as the $L^\infty$–type aggregate of the underlying poset metric,
\[
\cost(B)\ :=\
\sup\bigl\{\,\dist\bigl(U,\ B_i(U)\bigr)\ \bigm|\ i\ge 0,\ U\in\Summands(E_i)\,\bigr\}.
\]
(Equivalently, $\cost(B)=\sup\{\dist(B_i^{-1}(V),V)\mid i\ge 0,\ V\in\Summands(F_i)\}$.)  
We refer to the quantity
\[
\dist_R(E\down,F\down)\ :=\ \inf_{\,B\in\Match(E\down,F\down)}\ \cost(B)
\]
as the \emph{matching distance} for resolutions with a fixed size vector.


\begin{lemma}\label{lem:reg-triangle}
If $|E\down|=|F\down|=|G\down|$, then
\[
\dist_R(E\down,G\down)\ \le\ \dist_R(E\down,F\down)\ +\ \dist_R(F\down,G\down).
\]
\end{lemma}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Matching Distance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

With matchings and \(\dist_R\) in hand, we define the global distance by allowing padding.

\begin{definition}
For minimal resolutions $P\down^M$ and $P\down^N$ (not necessarily of the same size), the \emph{bottleneck distance} is
\[
\dist_B\bigl(P\down^M,P\down^N\bigr)
\ :=\ 
\inf_{\ (E\down,F\down)\in\Res(P\down^M,P\down^N)}\ \dist_R(E\down,F\down).
\]
We adopt the extended-value convention that $\dist_B\bigl(P\down^M,P\down^N\bigr)=\infty$ if there is no compatible padding (i.e.\ $\Res(P\down^M,P\down^N)=\varnothing$).
\end{definition}

Proposition~\ref{prop:common-padding} gives a sufficient condition for finiteness (equality of alternating sums); in general, $\dist_B$ may be infinite.

\begin{proposition}
\label{prop:bneck-pseudometric}
On the class of minimal projective resolutions $\{P\down^M\mid M\in\vect^{\bfP}\}$, the function $\dist_B$ is an extended pseudometric metric:
\[
\dist_B:\ \{P\down^M\}\times\{P\down^N\}\longrightarrow [0,+\infty].
\]
\end{proposition}

\begin{proof}
Nonnegativity is immediate. For any $M$, take the same padding on both sides and the identity matching degreewise to obtain $\dist_B(P\down^M,P\down^M)=0$. Symmetry holds because each matching family $B=(B_i)$ has an inverse family of the same cost. For the triangle inequality, given $P\down^M,P\down^N,P\down^O$, choose paddings producing $(E\down,F\down)$ and $(F'\down,G\down)$ with equal size vectors for $(M,N)$ and $(N,O)$ and with $\dist_R$ arbitrarily close to $\dist_B(M,N)$ and $\dist_B(N,O)$. Pad further to a common refinement so both pairs share the same size vector, compose the degreewise bijections, and apply Lemma~\ref{lem:reg-triangle}; taking infima over paddings yields the inequality. Finally, if $\dist_B(P\down^M,P\down^N)=0$, the costs lie in the finite set $\{d_{\bfP}(x,y)\mid x,y\in\bfP\}$, so the infimum is attained: there exist paddings and a matching of cost $0$. Thus each matched pair of summands has equal index in $\bfP$, the padded resolutions agree termwise up to isomorphism, and removing contractible cones yields $P\down^M\cong P\down^N$. Hence $\dist_B$ is an extended metric.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Examples}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now compute bottleneck distances for our 1D and 2D running examples by
comparing minimal projective resolutions and equalizing degreewise sizes
via contractible cones.

\begin{example}\label{ex:bneck-chain} Let $\bfP=\{1<2<3<4\}$ and consider \[ M=I[1,3)\oplus I[3,4),\qquad N=I[2,4) \] as in Example~\ref{ex:gtd-chain}. Minimal resolutions of the summands are \[ \begin{aligned} P\down^{I[1,3)}&:\ 0\to\bfP(3,-)\to\bfP(1,-)\to 0,\\ P\down^{I[3,4)}&:\ 0\to\bfP(4,-)\to\bfP(3,-)\to 0,\\ P\down^{I[2,4)}&:\ 0\to\bfP(4,-)\to\bfP(2,-)\to 0. \end{aligned} \] Summing yields \[ \begin{array}{c|c|c} & \text{degree }1 & \text{degree }0 \\ \hline P\down^{M} & \bfP(3,-)\oplus\bfP(4,-) & \bfP(1,-)\oplus\bfP(3,-)\\ P\down^{N} & \bfP(4,-) & \bfP(2,-) \end{array} \] so $|P\down^M|=(2,2,0,\dots)$ and $|P\down^N|=(1,1,0,\dots)$. Since the alternating sums agree, padding is possible. Pad $P\down^{N}$ by $\Cone(\id_{\bfP(3,-)})[1]$, adding $\bfP(3,-)$ in both degrees $1$ and $0$: \[ \begin{array}{c|c|c} & \text{degree }1 & \text{degree }0 \\ \hline P\down^{N}\oplus\Cone(\id_{\bfP(3,-)})[1] & \bfP(4,-)\oplus\bfP(3,-) & \bfP(2,-)\oplus\bfP(3,-) \end{array} \] which matches the size vector of $P\down^{M}$. A degreewise matching is given by \[ \begin{aligned} \text{degree }0:&\ \bfP(1,-)\longrightarrow \bfP(2,-), \qquad\bfP(3,-)\longrightarrow \bfP(3,-),\\ \text{degree }1:&\ \bfP(4,-)\longrightarrow \bfP(4,-), \qquad\bfP(3,-)\longrightarrow \bfP(3,-). \end{aligned} \] All pairs except $\bfP(1,-)\to\bfP(2,-)$ have cost $0$; that pair has cost $d_{\bfP}(1,2)=1$. Thus \[ \dist_B(P\down^{M},P\down^{N})=1. \] \end{example}

\begin{example}\label{ex:bneck-2d}
Let $\bfP=\{1,\dots,8\}^2$ with the product order and $L^\infty$ metric, and
consider the modules $M,N\in\vect^{\bfP}$ from Example~\ref{ex:gtd-2d}.

A rectangle interval module $J[(a_1,a_2),(b_1,b_2))$ has minimal resolution
\[
0\to 
\bfP((b_1,b_2),-)
\to
\bfP((a_1,b_2),-)\oplus\bfP((b_1,a_2),-)
\to
\bfP((a_1,a_2),-)
\to J[(a_1,a_2),(b_1,b_2))
\to 0.
\]
Thus each $2\times2$ square contributes one indecomposable projective in
degree~$0$, two in degree~$1$, and one in degree~$2$.  Since $M$ is the sum of
two such squares, we obtain
\[
|P\down^{M}|=(\mathrm{deg}\ 0:2,\ \mathrm{deg}\ 1:4,\ \mathrm{deg}\ 2:2).
\]

For the $L$-shape $N$ (the pushout of $A$ and $B$ along $S$), gluing minimal
resolutions gives
\[
|P\down^{N}|=(\mathrm{deg}\ 0:2,\ \mathrm{deg}\ 1:3,\ \mathrm{deg}\ 2:1).
\]

Pad $P\down^{N}$ by $\Cone(\id_{\bfP((7,4),-)})[2]$, which adds one copy of
$\bfP((7,4),-)$ in degrees $2$ and $1$, producing
\[
|\,P\down^{N}\oplus\Cone(\id_{\bfP((7,4),-)})[2]\,|
=(2,4,2),
\]
matching the size vector of $P\down^{M}$.

A degreewise matching $P\down^{M}\to P\down^{N}$ (padded) is as follows:

\smallskip
\noindent\emph{Degree $0$:}
\[
\bfP((2,5),-) \longrightarrow \bfP((1,4),-),\qquad
\bfP((5,2),-) \longrightarrow \bfP((4,1),-).
\]

\noindent\emph{Degree $1$:}
\[
\bfP((4,5),-) \longrightarrow \bfP((4,5),-),\quad
\bfP((5,4),-) \longrightarrow \bfP((5,4),-),
\]
\[
\bfP((2,7),-) \longrightarrow \bfP((1,8),-),\quad
\bfP((7,2),-) \longrightarrow \bfP((8,1),-).
\]

\noindent\emph{Degree $2$:}
\[
\bfP((4,7),-) \longrightarrow \bfP((5,8),-),\qquad
\bfP((7,4),-) \longrightarrow \bfP((7,4),-) \ \text{(cone)}.
\]

All matches have cost at most $1$ (in $d_{\bfP}$), and at least one match has
cost exactly $1$.  Therefore
\[
\dist_B(P\down^{M},P\down^{N})=1.
\]
\end{example}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Stability Theorem}
\label{sec:stability}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now relate the two distances defined above. Informally: a Galois coupling of $M$ and $N$ controls, via restriction, a pair of projective resolutions whose degreewise summands can be matched with cost bounded by the coupling cost. Hence the bottleneck distance between minimal projective resolutions is at most the Galois transport distance.

The next lemma says that pulling back along the right adjoint of a Galois connection sends the indecomposable projective at $x\in\bfQ$ to the indecomposable projective at $f(x)\in\bfP$.

\begin{lemma}
\label{lem:rt-adj-prj-ind}
If $f:\bfQ \rightleftarrows \bfP:g$ is a Galois connection of posets, then
\[
g^{*}\bigl(\bfQ(x,-)\bigr)\ \cong\ \bfP(f(x),-)
\qquad\text{in }\vect^{\bfP}\text{ for all }x\in\bfQ.
\]
\end{lemma}

\begin{proof}
For $y\in\bfP$, the value of $g^{*}\bfQ(x,-)$ at $y$ is
\[
(g^{*}\bfQ(x,-))(y)=\bfQ(x,g(y)).
\]
Because $f\dashv g$, we have
\[
\bfQ(x,g(y))\neq 0
\quad\Longleftrightarrow\quad
x\le g(y)
\quad\Longleftrightarrow\quad
f(x)\le y
\quad\Longleftrightarrow\quad
\bfP(f(x),y)\neq 0.
\]
Thus
\[
(g^{*}\bfQ(x,-))(y)\ \cong\ \bfP(f(x),y)
\]
naturally in $y$.  
Hence $g^{*}\bfQ(x,-)\cong \bfP(f(x),-)$ in $\vect^{\bfP}$.
\end{proof}


\begin{theorem}[Stability]
\label{thm:triangle}
Let $(\bfP, d_\bfP)$ be a finite metric poset. Then for any $M, N \in \vect^\bfP$,
\[
\dist_B\bigl(P\down^M, P\down^N\bigr)\ \le\ \dGT(M, N).
\]
\end{theorem}

\begin{proof}
If there is no Galois coupling of $(M,N)$, then $\dGT(M,N)=\infty$ and the claim is tautological. Otherwise fix $\varepsilon>0$ and choose a coupling $(\bfQ, f \dashv g,\ h \dashv i,\ \Gamma)$ with
\[
g^\ast\Gamma\cong M,\qquad i^\ast\Gamma\cong N,\qquad \cost(\Gamma)\ \le\ \dGT(M,N)+\varepsilon.
\]
Let $R\down\to\Gamma$ be any projective resolution in $\vect^{\bfQ}$. Since precomposition is exact (Proposition~\ref{prop:Kan-posets}) and, for a Galois connection, preserves projectives (Proposition~\ref{prop:pullback_preserves_projectives}), the complexes
\[
E\down:=g^{*}R\down\quad\text{and}\quad F\down:=i^{*}R\down
\]
are projective resolutions of $M$ and $N$ in $\vect^{\bfP}$.

Write each degree $R_i$ as a finite direct sum of representables $R_i\cong\bigoplus_{x\in S_i}\bfQ(x,-)$ (Lemma~\ref{lem:ind-proj}). By Lemma~\ref{lem:rt-adj-prj-ind} (and the analogue for $h\dashv i$),
\[
E_i\ \cong\ \bigoplus_{x\in S_i}\bfP\bigl(f(x),-\bigr),
\qquad
F_i\ \cong\ \bigoplus_{x\in S_i}\bfP\bigl(h(x),-\bigr).
\]
Hence $|E\down|=|F\down|$ and $(E\down,F\down)\in\Res(P\down^M,P\down^N)$. Define the degreewise matching $B_i$ by the identity on indices $x\in S_i$:
\[
B_i:\ \bfP\bigl(f(x),-\bigr)\longmapsto \bfP\bigl(h(x),-\bigr)\qquad(x\in S_i).
\]
Then
\[
\dist_R(E\down,F\down)\ \le\ \cost(B)\ =\ \sup_{i}\ \sup_{x\in S_i} d_{\bfP}\bigl(f(x),h(x)\bigr)
\ \le\ \sup_{x\in\bfQ} d_{\bfP}\bigl(f(x),h(x)\bigr)\ =\ \cost(\Gamma).
\]
Taking the infimum over all compatible paddings yields
\[
\dist_B\bigl(P\down^M,P\down^N\bigr)\ \le\ \dist_R(E\down,F\down)\ \le\ \cost(\Gamma)\ \le\ \dGT(M,N)+\varepsilon.
\]
This completes the proof.
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Examples}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now revisit our running 1D and 2D examples to illustrate the stability
inequality.  
In both cases the Galois transport distance and the bottleneck distance
coincide, showing that the bound in Theorem~\ref{thm:triangle} is sharp.


\begin{example}\label{ex:stability-chain}
From Examples~\ref{ex:gtd-chain} and~\ref{ex:bneck-chain} we have
\[
\dGT(M,N)=1,
\qquad
\dist_B(P\down^{M},P\down^{N})=1.
\]
Hence the stability inequality
\[
\dist_B(P\down^{M},P\down^{N})\ \le\ \dGT(M,N)
\]
holds with equality.

On the transport side, the Galois coupling moves each interval in $M$ forward
by one step in the parameter.  On the resolution side, padding by a single
contractible cone aligns the minimal resolutions and produces a matching of
the same cost.  Thus stability is numerically sharp in this one-parameter
example.
\end{example}



\begin{example}\label{ex:stability-2d}
For the $2$-parameter modules $M$ and $N$ from Example~\ref{ex:gtd-2d}, we
computed
\[
\dGT^{\bfP}(M,N)=1
\qquad\text{and}\qquad
\dist_B(P\down^{M},P\down^{N})=1
\]
in Examples~\ref{ex:gtd-2d} and~\ref{ex:bneck-2d}.  Hence
\[
\dist_B(P\down^{M},P\down^{N})
\ =\
\dGT^{\bfP}(M,N)
\ =\ 1,
\]
so the stability inequality holds with equality.

Geometrically, the transport coupling shifts each $2\times2$ square of $M$ by
$(+1,+1)$ into the corresponding arm of the $L$-shape.  On the resolution
side, padding $P\down^{N}$ by one cone equalizes the degreewise sizes and
permits a matching of cost~$1$.  Stability is therefore sharp in this
two-parameter example as well.
\end{example}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Application to Persistence}
\label{sec:persistence}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In this section we extract a persistence-like construction from a
$\bfP$-module by passing to the interval poset and taking kernels of structure
maps. We then show that the Galois transport stability inequality descends to
this construction, recovering classical bottleneck stability when $\bfP$ is a
finite chain.

\begin{definition}
Let $(\bfP,d_{\bfP})$ be a finite metric poset with a top element $\top$.  We
extend $d_{\bfP}$ to an \emph{extended} metric by
\[
d_{\bfP}(x,\top)=d_{\bfP}(\top,x)=+\infty\ (x\neq\top), 
\qquad d_{\bfP}(\top,\top)=0.
\]
Define the \emph{interval poset} $\Int\bfP$ to have objects the half-open
intervals $[x,y)$ with $x\le y\le \top$ and order
\[
[x_1,y_1)\le [x_2,y_2)\quad\Longleftrightarrow\quad x_1\le x_2
 \ \text{and}\ y_1\le y_2.
\]
Equip $\Int\bfP$ with the $L^\infty$ extended metric
\[
d_{\Int\bfP}\bigl([x_1,y_1),[x_2,y_2)\bigr)
:=\max\{\,d_{\bfP}(x_1,x_2),\, d_{\bfP}(y_1,y_2)\,\}.
\]
\end{definition}

\begin{definition}
For $M\in\vect^{\bfP}$ define $K(M)\in\vect^{\Int\bfP}$ by
\[
K(M)([x,y)) :=
\begin{cases}
\ker(M(x\to y)), & y<\top, \\
M(x), & y=\top.
\end{cases}
\]
For a relation $[x_1,y_1)\le [x_2,y_2)$, define 
\[
K(M)([x_1,y_1)\to[x_2,y_2))
\]
to be the map induced by $M(x_1\to x_2)$; functoriality of $M$ ensures that
kernels map into kernels when $y_2<\top$.  Thus $K:\vect^{\bfP}\to
\vect^{\Int\bfP}$ is a functor.
\end{definition}

We record two lemmas that will be used implicitly below.

\begin{lemma}\label{lem:Int-Galois}
If $f:\bfQ\rightleftarrows\bfP:g$ is a Galois connection, then so is
\[
\Int(f):\Int\bfQ\rightleftarrows\Int\bfP:\Int(g),
\qquad
\Int(f)[u,v)=[f(u),f(v)),\ \ \Int(g)[x,y)=[g(x),g(y)).
\]
\end{lemma}

\begin{proof}
Immediate from $f\dashv g$ applied coordinatewise.
\end{proof}

\begin{lemma}\label{lem:Int-Lipschitz}
For any monotone $f,h:\bfQ\to\bfP$,
\[
\sup_{[u,v)\in\Int\bfQ}
d_{\Int\bfP}\bigl(\Int(f)[u,v),\Int(h)[u,v)\bigr)
\ \le\
\sup_{u\in\bfQ} d_{\bfP}(f(u),h(u)).
\]
\end{lemma}

\begin{proof}
Direct from the $L^\infty$ definition and monotonicity.
\end{proof}

\begin{lemma}\label{lem:K-commute}
For any monotone $g:\bfP\to\bfQ$, 
\[
\Int(g)^*\circ K\ \cong\ K\circ g^*.
\]
\end{lemma}

\begin{proof}
Evaluation at $[x,y)$ gives the same kernel in both cases.
\end{proof}

\begin{proposition}\label{prop:K-Lipschitz}
For all $M,N$,
\[
\dGT^{\Int\bfP}(K(M),K(N))\ \le\ \dGT^{\bfP}(M,N).
\]
\end{proposition}

\begin{proof}
Given a coupling for $(M,N)$, apply $K$ to the apex and use
Lemmas~\ref{lem:Int-Galois}–\ref{lem:Int-Lipschitz}.
\end{proof}

\begin{definition}
For $M\in\vect^{\bfP}$ let $K\down^M$ denote a minimal projective resolution of
$K(M)$.  Its degreewise indecomposable projective summands form the
\emph{persistence diagram} of $M$.
\end{definition}

\begin{remark}
We work over $\Int\bfP$ rather than more general families of subsets
(cf.~\cite{kim2021generalized}).  
Even this setting already requires delicate homological control; extending the
construction further would require additional combinatorial machinery.
\end{remark}

Padding a resolution by a cone $\Cone(\id_E)[a]$ adds one copy of $E$ in
degrees $a$ and $a-1$, playing the role of adding diagonal points in classical
bottleneck matchings.

\begin{theorem}\label{thm:persistence-stability}
For all $M,N$,
\[
\dist_B(K\down^{M},K\down^{N})
\ \le\
\dGT^{\Int\bfP}(K(M),K(N))
\ \le\
\dGT^{\bfP}(M,N).
\]
For $\bfP=\{1<\dots<n\}$, this recovers classical bottleneck stability.
\end{theorem}

\begin{proof}
Combine the stability theorem for minimal resolutions with
Proposition~\ref{prop:K-Lipschitz}.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Examples}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We now compute persistence diagrams for our running 1D and 2D examples, and verify stability at the level of minimal resolutions in $\vect^{\Int\bfP}$.


\begin{example}\label{ex:persistence-chain-correct}
Let $\bfP=\{1<2<3<4<\top\}$ with $d_{\bfP}(i,j)=|i-j|$ and
$d_{\bfP}(\cdot,\top)=\infty$.  
Let 
\[
M=I[1,3)\oplus I[3,4),\qquad N=I[2,4).
\]
We compute $K(M)$ and $K(N)$.

The kernels vanish on $[3,3)$ and $[4,4)$, and are nonzero on the expected
intervals.  Minimal generators and relations are:
\[
\begin{aligned}
K(M):\quad &\text{deg }0:\ \Yint{[1,3)},\ \Yint{[2,3)},\ \Yint{[3,4)},\\
           &\text{deg }1:\ \Yint{[3,3)},\ \Yint{[4,4)}; \\[4pt]
K(N):\quad &\text{deg }0:\ \Yint{[2,4)},\\
           &\text{deg }1:\ \Yint{[4,4)}.
\end{aligned}
\]

A minimal resolution of $K(M)$ is
\[
0\longrightarrow \Yint{[3,3)}\oplus\Yint{[4,4)}
 \longrightarrow \Yint{[1,3)}\oplus\Yint{[2,3)}\oplus\Yint{[3,4)}
 \longrightarrow K(M)\longrightarrow 0.
\]
A minimal resolution of $K(N)$ is
\[
0\longrightarrow \Yint{[4,4)}
 \longrightarrow \Yint{[2,4)}
 \longrightarrow K(N)\longrightarrow 0.
\]

Pad $K\down^{N}$ by $\Cone(\id_{\Yint{[3,4)}})[1]$ to match the degreewise
sizes of $K\down^{M}$.  
Matching degreewise shows that at least one pair has cost~$1$, and all others
have cost~$0$, so
\[
\dist_B(K\down^M,K\down^N)=1.
\]
Combined with $\dGT^{\bfP}(M,N)=1$, this realizes the stability bound with
equality.
\end{example}


\begin{example}\label{ex:persistence-2d}
Let $\bfP=\{1,\dots,8\}^2$ and retain $M,N$ from
Example~\ref{ex:gtd-2d}.  Apply the kernel functor $K$.

Each $2\times 2$ square summand of $M$ contributes one generator in
degree~$0$ and two relations in degree~$1$ to $K(M)$.  
The $L$-shaped module $N$ contributes two generators and one corner relation.
Thus $K\down^{M}$ has
\[
\text{deg }0:2,\qquad \text{deg }1:4,
\]
and $K\down^{N}$ has
\[
\text{deg }0:2,\qquad \text{deg }1:3.
\]

Pad $K\down^{N}$ by $\Cone(\id_{\Yint{[(7,4),(8,5))}})[1]$ to obtain matching
degreewise sizes.  A degreewise matching is:

\smallskip
\noindent\emph{Degree $0$:}
\[
\Yint{[(2,5),(4,7))}\longrightarrow\Yint{[(1,4),(5,8))},\qquad
\Yint{[(5,2),(7,4))}\longrightarrow\Yint{[(4,1),(8,5))}.
\]

\noindent\emph{Degree $1$:}
\[
\Yint{[(4,5),(5,7))}\longrightarrow\Yint{[(4,5),(5,7))},\qquad
\Yint{[(5,4),(7,5))}\longrightarrow\Yint{[(5,4),(7,5))},
\]
\[
\Yint{[(2,7),(4,8))}\longrightarrow\Yint{[(1,8),(5,8))},\qquad
\Yint{[(7,2),(8,4))}\longrightarrow\Yint{[(8,1),(8,5))}.
\]

All pairs have cost at most~$1$, and at least one pair has cost~$1$, so
\[
\dist_B(K\down^{M},K\down^{N})=1.
\]
Since $\dGT^{\bfP}(M,N)=1$, stability holds with equality in this 2D example
as well.
\end{example}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Future Directions}
\label{sec:directions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We close by highlighting three directions that naturally extend the present
work.  They are meant as themes rather than precise problems, in the hope that
they will spark further exploration rather than constrain it.

\paragraph{Beyond intervals: kernels on convex subsets}

In this paper, the kernel construction $K$ is defined on the interval poset
$\Int\bfP$ and sends a half-open interval $[x,y)$ to the kernel of a single
structure map $M(x\to y)$.  It is natural to ask whether one can extend this
to a functor defined on a larger family of subsets, for example the convex
subposets of $\bfP$.

We say a subposet $Z\subset\bfP$ is \emph{convex} if, whenever $a\le c$ lie in
$Z$ and $a\le b\le c$ in $\bfP$, one has $b\in Z$.  For intervals, the kernel
functor $K$ produces a genuine functor
\[
K:\vect^\bfP\longrightarrow\vect^{\Int\bfP},
\]
not just a numerical rank invariant, and its functoriality is crucial for our
stability results.  In contrast, for general families of convex subsets, the
generalized rank invariants of Kim--M\'emoli~\cite{kim2021generalized} assign
numbers to images of structure maps but do not assemble into a functor on the
poset of convex subsets ordered by reverse inclusion.

It would be very interesting to build an ``interval-like’’ poset (or category)
whose objects are convex subsets of $\bfP$ and whose order and metric reflect
the combinatorics of $\bfP$—for example, by viewing convex subsets as
intervals in a suitable poset of upsets—and to extend the kernel construction
to this setting.  A satisfactory notion of ``convex persistence’’ with a
kernel functor and a Galois-transport stability statement would give a
conceptual home to many of the generalized rank-type constructions that have
appeared in the literature.

\paragraph{Beyond $L^\infty$: other transport and matching costs}

Both metric constructions in this paper are inherently of $L^\infty$-type.  On
the transport side, the cost of a Galois coupling is the supremum of the
displacements $d_\bfP(f(q),h(q))$ over points $q$ in the apex poset.  On the
diagram side, the bottleneck distance on minimal resolutions takes a supremum
over matched indecomposable summands.  This mirrors the classical bottleneck
distance on persistence diagrams.

In one-parameter persistence, there is also a substantial literature on
$L^p$- and Wasserstein-type distances between diagrams and their stability; see
for instance
\cite{cohen2010lipschitz,mileyko2011probability,divol2019understanding,
Skraba:2020,bubenik2015metrics,bubenik2018wasserstein}.  In a closely related
spirit, G\"ulen--M\'emoli--Patel introduce $\ell^p$-type edit distances for
weighted persistence diagrams and prove $\ell^p$-stability with respect to
Gromov--Hausdorff and Gromov--Wasserstein distances, interpreting these classical
metrics as edit distances built from Galois-connection edits
\cite{GulenMemoliPatel2025}.  It is natural to ask whether the
constructions in this paper admit analogous $L^p$-type formulations.

Roughly speaking, one would like to replace the supremum in the definition of
Galois transport by a $p$-norm (perhaps by introducing weights or measures on
the apex poset), and to replace the bottleneck cost on resolutions by a
$p$-Wasserstein-type aggregate over matched indecomposable summands.  The main
questions are whether such $L^p$-type transport and matching distances can be
defined in a way that still enjoys the triangle inequality and interacts well
with the pullback of resolutions along Galois couplings, and whether an
analogue of our main stability theorem survives for $p<\infty$.


\paragraph{Beyond incidence algebras: other representation-theoretic settings}

Throughout this paper, a $\bfP$-module is equivalently a finite-dimensional
module over the incidence algebra $k\bfP$; that is, $\vect^\bfP$ is equivalent
to the category of finite-dimensional left $k\bfP$-modules.  Our stability
results are phrased purely in terms of projective resolutions and Galois
transport, and the appearance of M\"obius inversion comes only from how these
resolutions can be interpreted, especially in the persistence setting via the
kernel construction.

For a general finite-dimensional algebra $A$, the Cartan matrix records how
projective modules decompose into simples.  When $A=k\bfP$, this Cartan matrix
is (up to ordering) the zeta matrix of the poset, and its inverse (when it
exists) is the M\"obius matrix.  Thus in the poset case, M\"obius inversion is
literally encoded in the homological relationship between projectives and
simples.

Understanding how much of this Cartan/M\"obius relationship persists for
more general algebras would be very interesting.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% References
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliographystyle{alpha}
\bibliography{references}{}


\appendix

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Interleaving Distance on \texorpdfstring{$\mathbb{R}$}{R}}
\label{app:interleaving}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In the body of the paper we work with modules over a finite poset. Classical persistence uses the totally ordered real line
\[
\bfR=(\mathbb{R},\le),
\quad
d_{\bfR}(x,y)=|x-y|.
\]
Here we recall the interleaving distance on $\vect^{\bfR}$ and show it agrees with the Galois transport distance defined earlier (now interpreted over $\bfR$).


For $\varepsilon\ge 0$ let $T_\varepsilon:\vect^{\bfR}\to\vect^{\bfR}$ be the shift functor
\[
(T_\varepsilon M)(r):=M(r+\varepsilon),
\qquad
(T_\varepsilon\alpha)_r:=\alpha_{r+\varepsilon}.
\]

\begin{definition}\label{def:interleaving-distance}
An \emph{$\varepsilon$-interleaving} between $M,N\in \vect^{\bfR}$ is a pair of natural transformations
\[
\varphi:M\Rightarrow T_\varepsilon N,
\qquad
\psi:N\Rightarrow T_\varepsilon M
\]
such that the composites $M\xrightarrow{\ \varphi\ } T_\varepsilon N \xrightarrow{T_\varepsilon\psi} T_{2\varepsilon} M$ and
$N\xrightarrow{\ \psi\ } T_\varepsilon M \xrightarrow{T_\varepsilon\varphi} T_{2\varepsilon} N$
equal the canonical structure maps induced by $r\le r+2\varepsilon$.
The \emph{interleaving distance} is
\[
d_I(M,N):=\inf\{\ \varepsilon\ge 0\mid M,N\ \text{are $\varepsilon$-interleaved}\ \}.
\]
\end{definition}


\begin{proposition}\label{prop:dI-pseudometric}
For $M,N,O \in \vect^{\bfR}$,
\[
d_I(M,N)=d_I(N,M),\qquad
d_I(M,O)\le d_I(M,N)+d_I(N,O),\qquad
d_I(M,M)=0.
\]
Moreover, $d_I(M,N)=0$ iff $M\cong N$; hence $d_I$ is an extended metric on isomorphism classes.
\end{proposition}

\begin{proof}[Proof sketch]
Symmetry is clear by swapping $(\varphi,\psi)$. Triangle inequality is obtained by pasting interleavings. The case $d_I(M,M)=0$ is immediate; if $d_I(M,N)=0$, a $0$-interleaving gives mutually inverse isomorphisms.
\end{proof}


For $\varepsilon\ge 0$, the translations
\[
t_\varepsilon:\bfR\to\bfR,\quad t_\varepsilon(r)=r+\varepsilon,
\qquad
r_\varepsilon:\bfR\to\bfR,\quad r_\varepsilon(r)=r-\varepsilon
\]
satisfy \(t_\varepsilon\dashv r_\varepsilon\); in our convention this is a Galois insertion with left adjoint \(t_\varepsilon:\bfR\to\bfR\) and right adjoint \(r_\varepsilon:\bfR\to\bfR\).

\begin{proposition}\label{prop:int-to-galois-R}
If $M,N\in \vect^{\bfR}$ are $\varepsilon$-interleaved, there exists a
Galois coupling $(\bfQ,f\dashv g,\ h\dashv i,\ \Gamma)$ for $(M,N)$ with
\[
\bfQ:=\bfR_L\sqcup \bfR_R,
\quad
f|_{\bfR_L}=\mathrm{id},\ f|_{\bfR_R}=t_\varepsilon,
\quad
h|_{\bfR_L}=t_\varepsilon,\ h|_{\bfR_R}=\mathrm{id},
\]
and \(\cost(\Gamma)=\varepsilon\).
\end{proposition}

\begin{proof}
Order the disjoint union $\bfR_L\sqcup\bfR_R$ so that cross-inequalities encode the shift (e.g.\ $a_L\le b_R\iff a+\varepsilon\le b$ and symmetrically). Define $\Gamma(a_L):=M(a)$ and $\Gamma(a_R):=N(a)$, with structure maps on cross arrows induced by the interleaving data. Then $g^{*}\Gamma\cong M$, $i^{*}\Gamma\cong N$, and $\sup_{x\in\bfQ}|f(x)-h(x)|=\varepsilon$.
\end{proof}

\begin{proposition}\label{prop:coupling-implies-int-R}
Let $(\bfQ,f\dashv g,\ h\dashv i,\ \Gamma)$ be a Galois coupling for
$(M,N)\in \vect^{\bfR}$ with \(\sup_{x\in \bfQ}|f(x)-h(x)|\le\varepsilon\).
Then $M$ and $N$ are $\varepsilon$-interleaved.
\end{proposition}

\begin{proof}[Idea]
For $r\in\mathbb{R}$ set $x=g(r)$. Then $f(x)\le r$ and $h(x)\le r+\varepsilon$. Using the unit/counit of $h\dashv i$ and $f\dashv g$, define
\[
\varphi_r: M(r)\xrightarrow{\ \cong\ }\Gamma(x)\to \Gamma(i(h(x)))\xrightarrow{\ \cong\ }N(h(x))\to N(r+\varepsilon),
\]
and symmetrically \(\psi_r:N(r)\to M(r+\varepsilon)\). Naturality and the interleaving identities follow from the adjunction triangle identities and the cost bound.
\end{proof}


\begin{theorem}\label{thm:GT-equals-dI-R}
For all $M,N\in \vect^{\bfR}$, the Galois transport distance equals
the interleaving distance:
\[
\dGT^{\bfR}(M,N)=d_I(M,N).
\]
\end{theorem}

\begin{proof}
By Proposition~\ref{prop:int-to-galois-R}, any $\varepsilon$-interleaving yields a coupling of cost $\varepsilon$, so \(\dGT^{\bfR}(M,N)\le d_I(M,N)\).
Conversely, by Proposition~\ref{prop:coupling-implies-int-R}, any coupling of cost $\varepsilon$ yields an $\varepsilon$-interleaving, so \(d_I(M,N)\le \dGT^{\bfR}(M,N)\).
\end{proof}











\end{document}